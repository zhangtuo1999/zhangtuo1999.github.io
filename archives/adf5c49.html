

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="ZhangTuo">
  <meta name="keywords" content="">
  
    <meta name="description" content="Vue 2.x 语法">
<meta property="og:type" content="article">
<meta property="og:title" content="【Vue2】Vue笔记">
<meta property="og:url" content="https://zhangtuo.online/archives/adf5c49.html">
<meta property="og:site_name" content="Tourry&#39;s Blog">
<meta property="og:description" content="Vue 2.x 语法">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://zhangtuo.online/images/%E5%B0%81%E9%9D%A2%E5%9B%BE/vue2.jpg">
<meta property="article:published_time" content="2021-12-07T04:55:05.000Z">
<meta property="article:modified_time" content="2023-08-09T05:03:19.926Z">
<meta property="article:author" content="ZhangTuo">
<meta property="article:tag" content="前端">
<meta property="article:tag" content="Vue">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://zhangtuo.online/images/%E5%B0%81%E9%9D%A2%E5%9B%BE/vue2.jpg">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>【Vue2】Vue笔记 - Tourry&#39;s Blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"zhangtuo.online","root":"/","version":"1.9.4","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":"❡"},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":"e8a90cadc58b0ccc27e335400184fb39","google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  
    <!-- Baidu Analytics -->
    <script async>
      if (!Fluid.ctx.dnt) {
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?e8a90cadc58b0ccc27e335400184fb39";
          var s = document.getElementsByTagName("script")[0];
          s.parentNode.insertBefore(hm, s);
        })();
      }
    </script>
  

  

  

  

  

  

  



  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Tourry&#39;s Blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="【Vue2】Vue笔记"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2021-12-07 12:55" pubdate>
          2021年12月7日 下午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          37k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          <!-- compatible with older versions-->
          309 分钟
        
      </span>
    

    
    
      
        <span id="busuanzi_container_page_pv" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="busuanzi_value_page_pv"></span> 次
        </span>
        
      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">【Vue2】Vue笔记</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="第一章-Vue-核心"><a href="#第一章-Vue-核心" class="headerlink" title="第一章 Vue 核心"></a>第一章 Vue 核心</h1><h2 id="1-1-Vue-demo"><a href="#1-1-Vue-demo" class="headerlink" title="1.1 Vue demo"></a>1.1 Vue demo</h2><div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
        //容器
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>hello &#123;&#123;msg&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span>
<span class="language-javascript">            <span class="hljs-comment">//关闭生产环境的提示</span></span>
<span class="language-javascript">            <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;</span>
<span class="language-javascript"></span>
<span class="language-javascript">            <span class="hljs-comment">//创建Vue的实例</span></span>
<span class="language-javascript">            <span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span>
<span class="language-javascript">                <span class="hljs-comment">//指定当前Vue实例为哪个容器服务，值通常为css选择器字符串</span></span>
<span class="language-javascript">                <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span>
<span class="language-javascript"></span>
<span class="language-javascript">                <span class="hljs-comment">//data中存放数据，数据供el指定的容器使用</span></span>
<span class="language-javascript">                <span class="hljs-attr">data</span>: &#123;</span>
<span class="language-javascript">                    <span class="hljs-attr">msg</span>: <span class="hljs-string">&quot;vue&quot;</span>,</span>
<span class="language-javascript">                &#125;,</span>
<span class="language-javascript">            &#125;);</span>
<span class="language-javascript">        </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre></div>

<ul>
<li><p>想要Vue工作，就必须创建一个Vue的实例，且要传入一个配置对象</p>
</li>
<li><p>root容器  代码仍然需要符合html规范，不过混入了Vue的语法</p>
</li>
<li><p>root容器中的代码被称为Vue模板</p>
</li>
<li><p>容器和Vue实例需要一一对应</p>
</li>
<li><p><code>&#123;&#123; &#125;&#125;</code>中写js表达式。表达式会生成一个值，放在任何需要值的地方</p>
</li>
<li><p>data中的数据发生变化时，模板中用到该数据中的地方也会发生改变</p>
</li>
</ul>
<h2 id="1-2-模板语法"><a href="#1-2-模板语法" class="headerlink" title="1.2 模板语法"></a>1.2 模板语法</h2><h3 id="1-2-1-插值语法"><a href="#1-2-1-插值语法" class="headerlink" title="1.2.1 插值语法"></a>1.2.1 插值语法</h3><ul>
<li><p>写法：<code>&#123;&#123; &#125;&#125;</code>中插入<strong>表达式</strong>，可以读取data中的属性</p>
<div class="code-wrapper"><pre><code class="hljs html">//模板中
<span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>hello &#123;&#123;msg&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>

//data中
data:&#123;
	msg: &quot;vue&quot;,
&#125;</code></pre></div>
</li>
<li><p>功能：插值表达式用在标签体中，用于解析标签体内容</p>
</li>
</ul>
<h3 id="1-2-2-指令语法"><a href="#1-2-2-指令语法" class="headerlink" title="1.2.2 指令语法"></a>1.2.2 指令语法</h3><h4 id="例如-v-bind"><a href="#例如-v-bind" class="headerlink" title="例如 v-bind"></a>例如 v-bind</h4><ul>
<li><p>写法：<code>v-bind:href = &quot;xxx&quot;</code>，href可以替换成任一属性名，<code>xxx</code>是js表达式。<code>v-bind:</code> 可以简写为 <code>:</code></p>
<div class="code-wrapper"><pre><code class="hljs html">//模板中
<span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">v-bind:href</span>=<span class="hljs-string">&quot;url&quot;</span> &gt;</span>跳转<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>

//data中
data:&#123;
	url: &quot;https://www.baidu.com&quot;,
&#125;</code></pre></div>
</li>
<li><p>功能：v-bind 可以给标签中任何一个属性动态绑定值</p>
</li>
</ul>
<h2 id="1-3-数据绑定"><a href="#1-3-数据绑定" class="headerlink" title="1.3 数据绑定"></a>1.3 数据绑定</h2><h3 id="1-3-1-单向数据绑定-v-bind"><a href="#1-3-1-单向数据绑定-v-bind" class="headerlink" title="1.3.1 单向数据绑定 v-bind"></a>1.3.1 单向数据绑定 v-bind</h3><ul>
<li>数据只能从data流向页面。data中的数据发生变化，页面上对应的数据会变化。但是页面上的数据变化，data中对应的数据不会变化。</li>
</ul>
<h3 id="1-3-2-双向数据绑定-v-model"><a href="#1-3-2-双向数据绑定-v-model" class="headerlink" title="1.3.2 双向数据绑定 v-model"></a>1.3.2 双向数据绑定 v-model</h3><ul>
<li>写法：<code>v-model:value = &quot;xxx&quot;</code>。<code>v-model:value</code>可以简写成<code>v-model</code></li>
<li>功能：数据不仅能从data流向页面，还可以从页面流向data。页面上的数据和data中对应的数据双向绑定。两者其中一个发生变化，另一个同时进行变化。</li>
<li>备注：<ul>
<li>v-model只能用在表单类元素中</li>
<li><code>v-model:value</code>可以简写成<code>v-model</code>，因为v-model默认收集的就是value的值</li>
</ul>
</li>
</ul>
<h3 id="补充：el和data的两种写法"><a href="#补充：el和data的两种写法" class="headerlink" title="补充：el和data的两种写法"></a>补充：el和data的两种写法</h3><h4 id="1-el的两种写法"><a href="#1-el的两种写法" class="headerlink" title="1. el的两种写法"></a>1. el的两种写法</h4><ol>
<li>写在Vue的配置对象中</li>
<li>使用<code>$mount</code>挂载</li>
</ol>
<h4 id="2-data的两种写法"><a href="#2-data的两种写法" class="headerlink" title="2. data的两种写法"></a>2. data的两种写法</h4><ol>
<li><p>对象式</p>
<div class="code-wrapper"><pre><code class="hljs js"><span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;
    <span class="hljs-attr">el</span>:<span class="hljs-string">&#x27;#app&#x27;</span>,
    <span class="hljs-attr">data</span>:&#123;
    	msg :<span class="hljs-string">&#x27;vue&#x27;</span>
    &#125;
&#125;);</code></pre></div>
</li>
<li><p>函数式。但是，由Vue管理的函数不能写成箭头函数，因为箭头函数没有自己的this，就会向外查找，找到的是全局的window。</p>
<div class="code-wrapper"><pre><code class="hljs js"><span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;
    <span class="hljs-attr">el</span>:<span class="hljs-string">&#x27;#app&#x27;</span>,
    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>)	<span class="hljs-comment">//this是Vue实例对象</span>
        <span class="hljs-keyword">return</span> &#123;
            msg :<span class="hljs-string">&#x27;vue&#x27;</span>
        &#125;
    &#125;  
&#125;);</code></pre></div></li>
</ol>
<h2 id="1-4-MVVM模型"><a href="#1-4-MVVM模型" class="headerlink" title="1.4 MVVM模型"></a>1.4 MVVM模型</h2><ul>
<li>M：Model，data中的数据</li>
<li>V：View，模板代码</li>
<li>VM：ViewModel，Vue实例</li>
</ul>
<h2 id="1-5-数据代理"><a href="#1-5-数据代理" class="headerlink" title="1.5 数据代理"></a>1.5 数据代理</h2><ul>
<li><p>通过一个对象代理对另一个对象中属性的操作</p>
<div class="code-wrapper"><pre><code class="hljs js"><span class="hljs-keyword">let</span> obj = &#123;
    <span class="hljs-attr">x</span>: <span class="hljs-number">100</span>,
&#125;;

<span class="hljs-keyword">let</span> obj_proxy = &#123;&#125;;
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(obj_proxy, <span class="hljs-string">&quot;x&quot;</span>, &#123;
    <span class="hljs-title function_">get</span>(<span class="hljs-params"></span>) &#123;
        <span class="hljs-keyword">return</span> obj.<span class="hljs-property">x</span>;
    &#125;,
    <span class="hljs-title function_">set</span>(<span class="hljs-params">val</span>)&#123;
        obj.<span class="hljs-property">x</span> = val
    &#125;
&#125;);

obj_proxy.<span class="hljs-property">x</span> = <span class="hljs-number">200</span></code></pre></div>

<p>在以上的例子中，通过<code>obj_proxy</code>代理对<code>obj</code>中属性<code>x</code>的读写</p>
</li>
</ul>
<h2 id="1-6-Vue中的数据代理"><a href="#1-6-Vue中的数据代理" class="headerlink" title="1.6 Vue中的数据代理"></a>1.6 Vue中的数据代理</h2><p><img src="/images/Vue%E7%AC%94%E8%AE%B0/image-20211209232047513.png" srcset="/img/loading.gif" lazyload alt="image-20211209232047513"></p>
<ul>
<li>通过vm对象来代理data对象中属性的操作，方便操作data中的数据</li>
<li>原理：通过<code>Object.defineProperty()</code>把data对象中所有属性添加到vm上，为每一个添加到vm上的属性都指定getter和setter，在getter和setter中去读写data中的属性。</li>
</ul>
<h2 id="1-7-事件"><a href="#1-7-事件" class="headerlink" title="1.7 事件"></a>1.7 事件</h2><h3 id="1-7-1-事件处理"><a href="#1-7-1-事件处理" class="headerlink" title="1.7.1 事件处理"></a>1.7.1 事件处理</h3><ul>
<li><p>写法：<code>v-on:xxx</code>，<code>xxx</code>是事件类型。<code>v-on:xxx</code>可以简写成<code>＠xxx</code></p>
</li>
<li><p>事件的回调写在methods中，最终会出现在vm上</p>
<div class="code-wrapper"><pre><code class="hljs js"><span class="hljs-comment">//模板中</span>
&lt;button @click=<span class="hljs-string">&quot;handleClick&quot;</span>&gt;不传参数&lt;/button&gt;
<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;handleClick1(0)&quot;</span>&gt;</span>传参数,不保留event<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;handleClick2(0,$event)&quot;</span>&gt;</span>传参数,保留event<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
<span class="hljs-comment">//js中</span>
<span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;
    <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,
    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;
    	<span class="hljs-keyword">return</span> &#123;&#125;;
	&#125;,
    <span class="hljs-attr">methods</span>: &#123;
        <span class="hljs-title function_">handleClick</span>(<span class="hljs-params">event</span>) &#123;
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(event);
        &#125;,
        <span class="hljs-title function_">handleClick1</span>(<span class="hljs-params">num</span>) &#123;
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(num);
        &#125;,
        <span class="hljs-title function_">handleClick2</span>(<span class="hljs-params">num, event</span>) &#123;
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(num, event);
        &#125;,
   	&#125;,
&#125;);</code></pre></div>
</li>
<li><p>不给事件处理函数传参数时，默认传入event事件对象</p>
</li>
<li><p>给事件处理函数传参，参数列表中默认不保留event事件对象</p>
</li>
<li><p>给事件处理函数传参，可以使用<code>$</code>进行占位，保留event对象</p>
</li>
<li><p>vm中的data会做数据代理、数据劫持，但是在methods中的函数不会做数据代理</p>
</li>
</ul>
<h3 id="1-7-2-Vue中的事件修饰符"><a href="#1-7-2-Vue中的事件修饰符" class="headerlink" title="1.7.2 Vue中的事件修饰符"></a>1.7.2 Vue中的事件修饰符</h3><ol>
<li><p><code>prevent</code>：阻止默认事件</p>
<div class="code-wrapper"><pre><code class="hljs html">//阻止默认事件后 只会执行handleClick() 页面不会跳转

<span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;http://www.baidu.com&quot;</span> @<span class="hljs-attr">click.prevent</span>=<span class="hljs-string">&quot;handleClick&quot;</span>&gt;</span>
    点击跳转
<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></code></pre></div>


</li>
<li><p><code>stop</code>：阻止事件冒泡</p>
<div class="code-wrapper"><pre><code class="hljs html">//阻止事件冒泡后 只会执行handleClick1() 不会执行handleClick2()
//因为使用了.prevent 所以页面不会跳转

<span class="hljs-tag">&lt;<span class="hljs-name">div</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;handleClick2&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;http://www.baidu.com&quot;</span> @<span class="hljs-attr">click.stop.prevent</span>=<span class="hljs-string">&quot;handleClick1&quot;</span>&gt;</span>
        点击跳转
    <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>


</li>
<li><p><code>once</code>：事件只触发一次</p>
<div class="code-wrapper"><pre><code class="hljs html">//事件只会触发一次 第二次点击div时 事件不会触发

<span class="hljs-tag">&lt;<span class="hljs-name">div</span> @<span class="hljs-attr">click.once</span>=<span class="hljs-string">&quot;alert(&#x27;hello  vue&#x27;)&quot;</span>&gt;</span>div<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>


</li>
<li><p><code>capture</code>：使用事件的捕获模式</p>
<div class="code-wrapper"><pre><code class="hljs html">//默认情况下 捕获阶段不会触发事件 也就是先执行handleClick1() 然后执行handleClick2()
//使用事件的捕获模式 捕获阶段会触发事件 也就是先执行handleClick2() 然后执行handleClick1()

<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#x27;border:1px solid red;width: 200px ;height: 200px;&#x27;</span> @<span class="hljs-attr">click</span> = <span class="hljs-string">&#x27;handleClick2&#x27;</span>&gt;</span>
    div2
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#x27;border:1px solid green;width: 100px ;height: 100px;&#x27;</span>  @<span class="hljs-attr">click</span> = <span class="hljs-string">&#x27;handleClick1&#x27;</span>&gt;</span>
        div1
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>


</li>
<li><p><code>self</code>：只有event.target是当前操作的元素时才触发事件</p>
<div class="code-wrapper"><pre><code class="hljs html">//默认情况下 handleClick()会触发两次 其中事件冒泡到div上时 event.target仍是button 
//加上.self后 事件的event.target不是当前元素时不会触发事件 handleClick()只触发一次 

<span class="hljs-tag">&lt;<span class="hljs-name">div</span></span>
<span class="hljs-tag">     <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;border: 1px solid red; width: 200px; height: 200px&quot;</span></span>
<span class="hljs-tag">     @<span class="hljs-attr">click.self</span>=<span class="hljs-string">&quot;handleClick&quot;</span></span>
<span class="hljs-tag">     &gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;handleClick&quot;</span>&gt;</span>点击按钮<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>


</li>
<li><p><code>passive</code>：事件的默认行为立即执行，无需等待事件回调执行完毕</p>
<ul>
<li>默认情况下，事件动作触发，之后执行事件的回调函数，回调结束后，事件的默认行为才开始执行</li>
<li>使用<code>.passive</code>后，事件的默认行为立即执行，无需等待事件的回调函数</li>
</ul>
</li>
</ol>
<h3 id="1-7-3-键盘事件"><a href="#1-7-3-键盘事件" class="headerlink" title="1.7.3 键盘事件"></a>1.7.3 键盘事件</h3><ul>
<li><p>Vue中常用的按键别名如下：</p>
<ul>
<li>回车：enter</li>
<li>删除：delete</li>
<li>退出：esc</li>
<li>空格：space</li>
<li>换行：tab</li>
<li>上：up</li>
<li>下：down</li>
<li>左：left</li>
<li>右：right</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs html">//只有在enter键抬起之后 showInfo()才会触发 此处的enter是别名

<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;按下回车提示输入&quot;</span> @<span class="hljs-attr">keyup.enter</span>=<span class="hljs-string">&quot;showInfo”/&gt;</span></span></code></pre></div>
</li>
<li><p>Vue中没有提供别名的按键，可以使用原始的key值去绑定，但是要注意转为短横线命名方式</p>
</li>
<li><p>系统修饰键的用法比较特殊：ctrl、alt、shift、meta</p>
<ul>
<li><p>在配合keyup使用时，按下修饰键的同时，再按下其他按键，随后释放其他按键，事件才会触发</p>
<div class="code-wrapper"><pre><code class="hljs html">//ctrl+任意键按下后抬起都会触发事件
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> @<span class="hljs-attr">keyup.ctrl</span>=<span class="hljs-string">&quot;showInfo&quot;</span> /&gt;</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs html">//只有 ctrl+y 按下后抬起 才会触发事件
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> @<span class="hljs-attr">keyup.ctrl.y</span>=<span class="hljs-string">&quot;showInfo&quot;</span> /&gt;</span></code></pre></div>
</li>
<li><p>在配合keydown使用时，正常触发事件</p>
</li>
</ul>
</li>
</ul>
<h2 id="1-8-计算属性"><a href="#1-8-计算属性" class="headerlink" title="1.8 计算属性"></a>1.8 计算属性</h2><h3 id="1-8-1-一个姓名拼接案例"><a href="#1-8-1-一个姓名拼接案例" class="headerlink" title="1.8.1 一个姓名拼接案例"></a>1.8.1 一个姓名拼接案例</h3><ul>
<li><p>使用methods的方式实现姓名拼接demo</p>
<div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span>
    姓:<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text &quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;lastName&quot;</span> /&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>
    名:<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;firstName&quot;</span> /&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>
    姓名:&#123;&#123;fullName()&#125;&#125;
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs js"><span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;
<span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;
    <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,
    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;
        <span class="hljs-keyword">return</span> &#123;
            <span class="hljs-attr">lastName</span>: <span class="hljs-string">&quot;&quot;</span>,
            <span class="hljs-attr">firstName</span>: <span class="hljs-string">&quot;&quot;</span>,
        &#125;;
    &#125;,
    <span class="hljs-attr">methods</span>: &#123;
        <span class="hljs-title function_">fullName</span>(<span class="hljs-params"></span>) &#123;
            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">lastName</span> + <span class="hljs-string">&quot;-&quot;</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">firstName</span>;
        &#125;,
    &#125;,
&#125;);</code></pre></div>
</li>
<li><p>注意：只要data中的数据发生变化，Vue就会重新解析模板，页面中所有用到该数据的地方都会发生变化。在上面的demo中，页面上输入姓或者名后，因为<code>fullName()</code>用到了发生改变的数据，所以Vue会重新调用<code>fullName()</code></p>
</li>
</ul>
<h3 id="1-8-2-使用计算属性重写上述案例"><a href="#1-8-2-使用计算属性重写上述案例" class="headerlink" title="1.8.2 使用计算属性重写上述案例"></a>1.8.2 使用计算属性重写上述案例</h3><div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span>
    姓:<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text &quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;lastName&quot;</span> /&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>
    名:<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;firstName&quot;</span> /&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>
    姓名:&#123;&#123;fullName&#125;&#125;
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span>
<span class="language-javascript">    <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;</span>
<span class="language-javascript">    <span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span>
<span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,</span>
<span class="language-javascript">        <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span>
<span class="language-javascript">            <span class="hljs-keyword">return</span> &#123;</span>
<span class="language-javascript">                <span class="hljs-attr">lastName</span>: <span class="hljs-string">&quot;&quot;</span>,</span>
<span class="language-javascript">                <span class="hljs-attr">firstName</span>: <span class="hljs-string">&quot;&quot;</span>,</span>
<span class="language-javascript">            &#125;;</span>
<span class="language-javascript">        &#125;,</span>
<span class="language-javascript">        <span class="hljs-attr">computed</span>: &#123;</span>
<span class="language-javascript">             <span class="hljs-attr">fullName</span>:&#123;</span>
<span class="language-javascript">                 <span class="hljs-comment">//获取计算属性fullName的值时调用</span></span>
<span class="language-javascript">                 <span class="hljs-title function_">get</span>(<span class="hljs-params"></span>)&#123;</span>
<span class="language-javascript">                     <span class="hljs-comment">//Vue已经将this的指向调整成了vm</span></span>
<span class="language-javascript">                     <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">lastName</span> + <span class="hljs-string">&quot;-&quot;</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">firstName</span>;</span>
<span class="language-javascript">                 &#125;,</span>
<span class="language-javascript">                 <span class="hljs-comment">//设置fullName的值时调用</span></span>
<span class="language-javascript">                 <span class="hljs-title function_">set</span>(<span class="hljs-params">newVal</span>)&#123;</span>
<span class="language-javascript">            		 arr = newVal.<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;-&#x27;</span>)</span>
<span class="language-javascript">                     <span class="hljs-variable language_">this</span>.<span class="hljs-property">lastName</span> = arr[<span class="hljs-number">0</span>];</span>
<span class="language-javascript">                     <span class="hljs-variable language_">this</span>.<span class="hljs-property">firstName</span> = arr[arr.<span class="hljs-property">length</span>-<span class="hljs-number">1</span>];</span>
<span class="language-javascript">        		&#125;</span>
<span class="language-javascript">             &#125;</span>
<span class="language-javascript">        &#125;,</span>
<span class="language-javascript">    &#125;);</span>
<span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs js"><span class="hljs-comment">//如果只有getter，没有setter，可以简写如下：</span>
<span class="hljs-title function_">fullName</span>(<span class="hljs-params"></span>) &#123;
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">lastName</span> + <span class="hljs-string">&quot;-&quot;</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">firstName</span>;
&#125;,</code></pre></div>

<ul>
<li><p>将同一函数定义为方法还是计算属性，相同点和不同点在哪里？</p>
<blockquote>
<p>我们可以将同一函数定义为一个方法而不是一个计算属性。两种方式的最终结果确实是完全相同的。然而，不同的是<strong>计算属性是基于它们的响应式依赖进行缓存的</strong>。只在相关响应式依赖发生改变时它们才会重新求值。</p>
</blockquote>
<blockquote>
<p>这就意味着只要 <code>lastName</code>和 <code>firstName</code>还没有发生改变，多次访问 <code>fullName</code> 计算属性会立即返回之前的计算结果，而不必再次执行函数。</p>
</blockquote>
</li>
<li><p>什么时候调用计算属性？</p>
<ol>
<li>初次读取<code>fullName</code>时</li>
<li>所依赖的数据发生变化时</li>
</ol>
</li>
<li><p>计算属性会直接出现在vm上，直接读取即可。</p>
</li>
</ul>
<h2 id="1-9-监视属性"><a href="#1-9-监视属性" class="headerlink" title="1.9 监视属性"></a>1.9 监视属性</h2><h3 id="1-9-1-一个监视属性的案例"><a href="#1-9-1-一个监视属性的案例" class="headerlink" title="1.9.1 一个监视属性的案例"></a>1.9.1 一个监视属性的案例</h3><div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>今天天气很&#123;&#123;info&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;flag = !flag&quot;</span>&gt;</span>点击切换<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span>
<span class="language-javascript">    <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;</span>
<span class="language-javascript">    <span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span>
<span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,</span>
<span class="language-javascript">        <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span>
<span class="language-javascript">            <span class="hljs-keyword">return</span> &#123;</span>
<span class="language-javascript">                <span class="hljs-attr">flag</span>: <span class="hljs-literal">true</span>,</span>
<span class="language-javascript">                <span class="hljs-attr">info</span>:<span class="hljs-string">&#x27;&#x27;</span></span>
<span class="language-javascript">            &#125;;</span>
<span class="language-javascript">        &#125;,</span>
<span class="language-javascript">        <span class="hljs-attr">watch</span>: &#123;</span>
<span class="language-javascript">            <span class="hljs-attr">flag</span>: &#123;</span>
<span class="language-javascript">                <span class="hljs-comment">//初始化时 让handler调用一下</span></span>
<span class="language-javascript">                <span class="hljs-attr">immediate</span>:<span class="hljs-literal">true</span>,</span>
<span class="language-javascript">                <span class="hljs-comment">//当flag发生变化时 调用handler</span></span>
<span class="language-javascript">                <span class="hljs-title function_">handler</span>(<span class="hljs-params">newVal,oldVal</span>) &#123;</span>
<span class="language-javascript">                    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(newVal,oldVal)</span>
<span class="language-javascript">                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">info</span> = newVal?<span class="hljs-string">&#x27;凉爽&#x27;</span>:<span class="hljs-string">&#x27;炎热&#x27;</span></span>
<span class="language-javascript">                &#125;,</span>
<span class="language-javascript">            &#125;,</span>
<span class="language-javascript">        &#125;,</span>
<span class="language-javascript">    &#125;);</span>
<span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span>
<span class="language-javascript">    <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;</span>
<span class="language-javascript">    <span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span>
<span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,</span>
<span class="language-javascript">        <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span>
<span class="language-javascript">            <span class="hljs-keyword">return</span> &#123;</span>
<span class="language-javascript">                <span class="hljs-attr">flag</span>: <span class="hljs-literal">true</span>,</span>
<span class="language-javascript">                <span class="hljs-attr">info</span>: <span class="hljs-string">&quot;&quot;</span>,</span>
<span class="language-javascript">            &#125;;</span>
<span class="language-javascript">        &#125;,</span>
<span class="language-javascript">    &#125;);</span>
<span class="language-javascript">    <span class="hljs-comment">//第二种写法</span></span>
<span class="language-javascript">    vm.$watch(<span class="hljs-string">&quot;flag&quot;</span>, &#123;</span>
<span class="language-javascript">        <span class="hljs-attr">immediate</span>: <span class="hljs-literal">true</span>,</span>
<span class="language-javascript">        <span class="hljs-title function_">handler</span>(<span class="hljs-params">newVal, oldVal</span>) &#123;</span>
<span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(newVal, oldVal);</span>
<span class="language-javascript">            <span class="hljs-variable language_">this</span>.<span class="hljs-property">info</span> = newVal ? <span class="hljs-string">&quot;凉爽&quot;</span> : <span class="hljs-string">&quot;炎热&quot;</span>;</span>
<span class="language-javascript">        &#125;,</span>
<span class="language-javascript">    &#125;);</span>
<span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre></div>

<ul>
<li>当监视属性变化时，回调函数自动调用，进行相关操作</li>
<li>监视的属性可以是data中的属性，也可以是计算属性。无论监视哪种属性，属性必须要存在。</li>
</ul>
<h3 id="1-9-2-深度监视"><a href="#1-9-2-深度监视" class="headerlink" title="1.9.2 深度监视"></a>1.9.2 深度监视</h3><div class="code-wrapper"><pre><code class="hljs html">//点击按钮 obj内的数据发生了变化 但是Vue无法检测到

<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>obj中的a的值是&#123;&#123;obj.a&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;obj.a++&quot;</span>&gt;</span>点击让a加1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>obj中的b的值是&#123;&#123;obj.b&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;obj.b++&quot;</span>&gt;</span>点击让b加1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs js"><span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;
    <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,
    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;
        <span class="hljs-keyword">return</span> &#123;
            <span class="hljs-attr">obj</span>: &#123;
                <span class="hljs-attr">a</span>: <span class="hljs-number">100</span>,
                <span class="hljs-attr">b</span>: <span class="hljs-number">200</span>,
            &#125;,
        &#125;;
    &#125;,
    <span class="hljs-attr">watch</span>: &#123;
        <span class="hljs-comment">//监视对象，即使对象中的属性值发生了变化，由于地址值没有变化，Vue无法成功检测到</span>
        <span class="hljs-string">&quot;obj&quot;</span>: &#123;
            <span class="hljs-title function_">handler</span>(<span class="hljs-params"></span>) &#123;
                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;obj改变了&quot;</span>);
            &#125;,
        &#125;,
    &#125;,
&#125;);</code></pre></div>

<ul>
<li><p>在上面这种情况中，即使<code>obj.a</code>或者<code>obj.b</code>变化，Vue也无法检测得到。因为obj中数据的地址值没有改变。</p>
</li>
<li><p>如果想让Vue检测到对象内的属性值的变化（深度监视），需要开启<code>deep</code>配置项（watch默认不开启深度监视）。</p>
<div class="code-wrapper"><pre><code class="hljs js"><span class="hljs-comment">//深度监视，可以监视多级结构中所有属性的变化。</span>
<span class="hljs-attr">watch</span>: &#123;
    <span class="hljs-comment">//监视对象</span>
    <span class="hljs-attr">obj</span>: &#123;
        	<span class="hljs-attr">deep</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-title function_">handler</span>(<span class="hljs-params"></span>) &#123;
            	<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;obj改变了&quot;</span>);
        	&#125;,
    &#125;,
&#125;,</code></pre></div>
</li>
<li><p>Vue对数组的监听是浅监听，也就是它只能监听到数组的长度或者有无的变化。无法监视数组中的元素的变化，深度监视也不可以。</p>
</li>
<li><p>如果不需要<code>immediate</code>和<code>deep</code>配置项，可以简写监视属性的形式</p>
<div class="code-wrapper"><pre><code class="hljs js"><span class="hljs-attr">watch</span>: &#123;
	<span class="hljs-title function_">flag</span>(<span class="hljs-params">newVal, oldVal</span>) &#123;
		<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(newVal, oldVal);
		<span class="hljs-variable language_">this</span>.<span class="hljs-property">info</span> = newVal ? <span class="hljs-string">&quot;凉爽&quot;</span> : <span class="hljs-string">&quot;炎热&quot;</span>;
	&#125;,
&#125;,</code></pre></div>



<div class="code-wrapper"><pre><code class="hljs js"><span class="hljs-comment">//不可以写成箭头函数，因为可能造成this的指向有问题</span>
vm.$watch(<span class="hljs-string">&quot;flag&quot;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">newVal, oldVal</span>) &#123;
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(newVal, oldVal);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">info</span> = newVal ? <span class="hljs-string">&quot;凉爽&quot;</span> : <span class="hljs-string">&quot;炎热&quot;</span>;
&#125;);</code></pre></div></li>
</ul>
<h2 id="1-10-计算属性和监视属性对比"><a href="#1-10-计算属性和监视属性对比" class="headerlink" title="1.10 计算属性和监视属性对比"></a>1.10 计算属性和监视属性对比</h2><ul>
<li><p>computed能完成的功能，watch都能完成</p>
</li>
<li><p>如果函数中没有异步操作，对于相同的功能，使用计算属性更简洁</p>
</li>
<li><p>计算属性中无法执行异步操作，这时需要监视属性来做</p>
</li>
<li><p>注意：1. 所被Vue管理的函数，最好写成普通函数。这样this的指向才是vm或组件实例对象。2. 所有不被Vue管理的函数（定时器回调函数、ajax回调函数等），最好写成箭头函数。这样this的指向才是vm或组件实例对象。</p>
</li>
</ul>
<h2 id="1-11-class和style绑定"><a href="#1-11-class和style绑定" class="headerlink" title="1.11 class和style绑定"></a>1.11 class和style绑定</h2><h3 id="1-11-1-绑定class样式"><a href="#1-11-1-绑定class样式" class="headerlink" title="1.11.1 绑定class样式"></a>1.11.1 绑定class样式</h3><ol>
<li><p>字符串写法</p>
<div class="code-wrapper"><pre><code class="hljs css"><span class="hljs-selector-class">.basic</span> &#123;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">400px</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;
    <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid black;
&#125;
<span class="hljs-selector-class">.sad</span> &#123;
    <span class="hljs-attribute">border</span>: <span class="hljs-number">4px</span> dashed <span class="hljs-built_in">rgb</span>(<span class="hljs-number">2</span>, <span class="hljs-number">197</span>, <span class="hljs-number">2</span>);
    <span class="hljs-attribute">background-color</span>: gray;
&#125;
<span class="hljs-selector-class">.normal</span> &#123;
    <span class="hljs-attribute">background-color</span>: skyblue;
&#125;</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;basic&quot;</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">&quot;style&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;changeStyle&quot;</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs js"><span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;
    <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,
    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;
        <span class="hljs-keyword">return</span> &#123;
            <span class="hljs-attr">style</span>: <span class="hljs-string">&quot;normal&quot;</span>,
        &#125;;
    &#125;,
    <span class="hljs-attr">methods</span>: &#123;
        <span class="hljs-title function_">changeStyle</span>(<span class="hljs-params"></span>) &#123;
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">style</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">style</span> === <span class="hljs-string">&quot;normal&quot;</span> ? <span class="hljs-string">&quot;sad&quot;</span> : <span class="hljs-string">&quot;normal&quot;</span>;
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;changeStyle&quot;</span>);
        &#125;,
    &#125;,
&#125;);</code></pre></div>

<p>适用于字符串的类名不确定，需要动态指定</p>
</li>
<li><p>第一种数组写法</p>
<div class="code-wrapper"><pre><code class="hljs css"><span class="hljs-selector-class">.s1</span> &#123;
    <span class="hljs-attribute">background-color</span>: yellowgreen;
&#125;
<span class="hljs-selector-class">.s2</span> &#123;
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">30px</span>;
    <span class="hljs-attribute">text-shadow</span>: <span class="hljs-number">2px</span> <span class="hljs-number">2px</span> <span class="hljs-number">10px</span> red;
&#125;
<span class="hljs-selector-class">.s3</span> &#123;
    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">20px</span>;
&#125;</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">&quot;styleArr&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;changeStyle&quot;</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs js"><span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;
    <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,
    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;
        <span class="hljs-keyword">return</span> &#123;
            <span class="hljs-attr">styleArr</span>: [<span class="hljs-string">&quot;s1&quot;</span>, <span class="hljs-string">&quot;s2&quot;</span>, <span class="hljs-string">&quot;s3&quot;</span>],
        &#125;;
    &#125;,
&#125;);</code></pre></div>

<p>适用于要绑定的样式个数不确定，名字也不确定</p>
</li>
<li><p>第二种数组写法</p>
<div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;basic&quot;</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">&quot;[s1 ,s2, s3]&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;changeStyle&quot;</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs js"><span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;
    <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,
    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;
        <span class="hljs-keyword">return</span> &#123;
            <span class="hljs-attr">s1</span>: <span class="hljs-string">&quot;s1&quot;</span>,
            <span class="hljs-attr">s2</span>: <span class="hljs-string">&quot;s2&quot;</span>,
            <span class="hljs-attr">s3</span>: <span class="hljs-string">&quot;s3&quot;</span>,
        &#125;;
    &#125;
&#125;);</code></pre></div>
</li>
<li><p>第一种对象写法</p>
<div class="code-wrapper"><pre><code class="hljs ruby">&lt;div <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;basic&quot;</span> <span class="hljs-symbol">:class=<span class="hljs-string">&quot;styleObj&quot;</span>&gt;test&lt;/div&gt;</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs js"><span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;
    <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,
    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;
        <span class="hljs-keyword">return</span> &#123;
            <span class="hljs-attr">styleObj</span>: &#123;
                <span class="hljs-attr">s1</span>: <span class="hljs-literal">true</span>,
                <span class="hljs-attr">s2</span>: <span class="hljs-literal">true</span>,
                <span class="hljs-attr">s3</span>: <span class="hljs-literal">true</span>,
            &#125;,
        &#125;;
    &#125;,
&#125;);</code></pre></div>

<p>适用于要绑定的样式名字、个数都确定，但是用动态决定用还是不用</p>
</li>
<li><p>第二种对象写法</p>
<div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;basic&quot;</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">&quot;&#123;s1,s2,s3&#125;&quot;</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs js"><span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;
    <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,
    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;
        <span class="hljs-keyword">return</span> &#123;
            <span class="hljs-attr">s1</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">s2</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">s3</span>: <span class="hljs-literal">true</span>,
        &#125;;
    &#125;,
&#125;);</code></pre></div></li>
</ol>
<h3 id="1-11-2-绑定style样式"><a href="#1-11-2-绑定style样式" class="headerlink" title="1.11.2 绑定style样式"></a>1.11.2 绑定style样式</h3><ol>
<li><p>第一种对象写法</p>
<div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">&quot;fontStyle&quot;</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs js"><span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;
    <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,
    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;
        <span class="hljs-keyword">return</span> &#123;
            <span class="hljs-attr">fontStyle</span>: &#123;
                <span class="hljs-attr">fontSize</span>: <span class="hljs-string">&quot;50px&quot;</span>,
            &#125;,
        &#125;;
    &#125;,
&#125;);</code></pre></div>
</li>
<li><p>第二种对象写法</p>
<div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">&quot;&#123;fontSize:size+&#x27;px&#x27;&#125;&quot;</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;
    <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,
    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;
        <span class="hljs-keyword">return</span> &#123;
            <span class="hljs-attr">size</span>:<span class="hljs-number">50</span>
        &#125;;
    &#125;,
&#125;);</code></pre></div>
</li>
<li><p>数组写法</p>
<div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">&quot;styleArr&quot;</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs js"><span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;
    <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,
    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;
        <span class="hljs-keyword">return</span> &#123;
            <span class="hljs-attr">styleArr</span>: [
                &#123;
                    <span class="hljs-attr">fontSize</span>: <span class="hljs-string">&quot;50px&quot;</span>,
                    <span class="hljs-attr">color</span>: <span class="hljs-string">&quot;blue&quot;</span>,
                &#125;,
                &#123;
                    <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">&quot;green&quot;</span>,
                &#125;,
            ],
        &#125;;
    &#125;,
&#125;);</code></pre></div></li>
</ol>
<h2 id="1-12-条件渲染v-if-v-show"><a href="#1-12-条件渲染v-if-v-show" class="headerlink" title="1.12 条件渲染v-if v-show"></a>1.12 条件渲染v-if v-show</h2><h3 id="1-12-1-v-show条件渲染"><a href="#1-12-1-v-show条件渲染" class="headerlink" title="1.12.1 v-show条件渲染"></a>1.12.1 v-show条件渲染</h3><ol>
<li><p>写法：<code>v-show = &#39;true&#39;</code>或<code>v-show = &#39;false&#39;</code>，例：</p>
<div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&#x27;block&#x27;</span> <span class="hljs-attr">v-show</span>=<span class="hljs-string">&#x27;false&#x27;</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>
</li>
<li><p>原理：存在于DOM上，但是在<code>&lt;div&gt;</code>上增加一个<code>style=&quot;display: none;&quot;</code></p>
</li>
</ol>
<h3 id="1-12-2-v-if条件渲染-和v-else-if、-v-else"><a href="#1-12-2-v-if条件渲染-和v-else-if、-v-else" class="headerlink" title="1.12.2 v-if条件渲染 和v-else-if、 v-else"></a>1.12.2 v-if条件渲染 和v-else-if、 v-else</h3><ol>
<li><p>写法：<code>v-if = &#39;true&#39;</code>或<code>v-if = &#39;false&#39;</code>，例：</p>
<div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&#x27;block&#x27;</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&#x27;false&#x27;</span>&gt;</span>test1<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&#x27;block&#x27;</span> <span class="hljs-attr">v-else</span> <span class="hljs-attr">if</span>=<span class="hljs-string">&#x27;false&#x27;</span>&gt;</span>test2<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&#x27;block&#x27;</span> <span class="hljs-attr">v-else</span>&gt;</span>test3<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>
</li>
<li><p>原理：DOM上不生成该<code>&lt;div&gt;</code></p>
</li>
<li><p><code>v-if</code>、<code>v-else-if</code>、<code>v-else</code>必须连续使用，中间不允许其他的<code>&lt;div&gt;</code>打断</p>
</li>
</ol>
<h3 id="1-12-3-怎么选择v-show-和-v-if"><a href="#1-12-3-怎么选择v-show-和-v-if" class="headerlink" title="1.12.3 怎么选择v-show 和 v-if"></a>1.12.3 怎么选择v-show 和 v-if</h3><ul>
<li>显示和隐藏切换的频率较高时，使用<code>v-show</code></li>
<li>显示和隐藏切换的频率较低时，使用<code>v-if</code></li>
</ul>
<h3 id="1-13-4-template"><a href="#1-13-4-template" class="headerlink" title="1.13.4 template"></a>1.13.4 template</h3><ul>
<li><p>想一次控制多个div，可以在多个<code>&lt;div&gt;</code>外再包一个<code>&lt;div&gt;</code>，但是这种办法破坏了页面的结构（多了一层div）。解决方法：使用<code>&lt;template&gt;</code>。例：</p>
<div class="code-wrapper"><pre><code class="hljs html">//使用div
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&#x27;false&#x27;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>test1<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>test2<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>test3<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

//使用template
<span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&#x27;false&#x27;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>test1<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>test2<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>test3<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></code></pre></div></li>
</ul>
<h2 id="1-14-列表渲染v-for"><a href="#1-14-列表渲染v-for" class="headerlink" title="1.14 列表渲染v-for"></a>1.14 列表渲染v-for</h2><h3 id="1-14-1-遍历列表"><a href="#1-14-1-遍历列表" class="headerlink" title="1.14.1 遍历列表"></a>1.14.1 遍历列表</h3><ol>
<li><p>第一种形式：key用id值</p>
<div class="code-wrapper"><pre><code class="hljs armasm">姓名:<span class="hljs-built_in">p1</span> 年龄:<span class="hljs-number">18</span>
姓名:<span class="hljs-built_in">p2</span> 年龄:<span class="hljs-number">19</span>
姓名:<span class="hljs-built_in">p3</span> 年龄:<span class="hljs-number">20</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;p in person&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;p.id&quot;</span>&gt;</span>
        姓名:&#123;&#123;p.name&#125;&#125; 年龄:&#123;&#123;p.age&#125;&#125;
    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs js"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;
    <span class="hljs-keyword">return</span> &#123;
        <span class="hljs-attr">person</span>: [
            &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;p1&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">18</span> &#125;,
            &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;p2&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">19</span> &#125;,
            &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;p3&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">20</span> &#125;,
        ],
    &#125;;
&#125;,</code></pre></div>
</li>
<li><p>第二种形式：key用index值</p>
<div class="code-wrapper"><pre><code class="hljs armasm">姓名:<span class="hljs-built_in">p1</span> 年龄:<span class="hljs-number">18</span>
姓名:<span class="hljs-built_in">p2</span> 年龄:<span class="hljs-number">19</span>
姓名:<span class="hljs-built_in">p3</span> 年龄:<span class="hljs-number">20</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(p,index) in person&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;index&quot;</span>&gt;</span>
    	姓名:&#123;&#123;p.name&#125;&#125; 年龄:&#123;&#123;p.age&#125;&#125;
    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></code></pre></div></li>
</ol>
<h3 id="1-14-2-遍历对象"><a href="#1-14-2-遍历对象" class="headerlink" title="1.14.2 遍历对象"></a>1.14.2 遍历对象</h3><div class="code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">a</span>-<span class="hljs-number">100</span>
<span class="hljs-attribute">b</span>-<span class="hljs-number">200</span>
<span class="hljs-attribute">c</span>-<span class="hljs-number">300</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(value,key) in obj&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;key&quot;</span>&gt;</span>&#123;&#123;key&#125;&#125;-&#123;&#123;value&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs js"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;
    <span class="hljs-keyword">return</span> &#123;
        <span class="hljs-attr">obj</span>: &#123;
            <span class="hljs-attr">a</span>: <span class="hljs-number">100</span>,
            <span class="hljs-attr">b</span>: <span class="hljs-number">200</span>,
            <span class="hljs-attr">c</span>: <span class="hljs-number">300</span>,
        &#125;,
    &#125;;
&#125;</code></pre></div>

<h3 id="1-14-3-遍历字符串"><a href="#1-14-3-遍历字符串" class="headerlink" title="1.14.3 遍历字符串"></a>1.14.3 遍历字符串</h3><div class="code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">q</span> - <span class="hljs-number">0</span>
<span class="hljs-attribute">w</span> - <span class="hljs-number">1</span>
<span class="hljs-attribute">e</span> - <span class="hljs-number">2</span>
<span class="hljs-attribute">r</span> - <span class="hljs-number">3</span>
<span class="hljs-attribute">t</span> - <span class="hljs-number">4</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(s,index) in str&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;index&quot;</span>&gt;</span>
        &#123;&#123;s&#125;&#125; - &#123;&#123;index&#125;&#125;
    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs haskell"><span class="hljs-class"><span class="hljs-keyword">data</span>() &#123;</span>
<span class="hljs-class">    <span class="hljs-title">return</span> &#123;</span>
<span class="hljs-class">        <span class="hljs-title">str</span>: &quot;<span class="hljs-title">qwert</span>&quot;,</span>
<span class="hljs-class">    &#125;;</span>
&#125;</code></pre></div>

<h3 id="1-14-4-遍历指定次数"><a href="#1-14-4-遍历指定次数" class="headerlink" title="1.14.4 遍历指定次数"></a>1.14.4 遍历指定次数</h3><div class="code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">1</span>-<span class="hljs-number">0</span>
<span class="hljs-attribute">2</span>-<span class="hljs-number">1</span>
<span class="hljs-attribute">3</span>-<span class="hljs-number">2</span>
<span class="hljs-attribute">4</span>-<span class="hljs-number">3</span>
<span class="hljs-attribute">5</span>-<span class="hljs-number">4</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(num,index) in 5&quot;</span>&gt;</span>&#123;&#123;num&#125;&#125;-&#123;&#123;index&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></code></pre></div>

<h2 id="1-15-v-for与key的原理"><a href="#1-15-v-for与key的原理" class="headerlink" title="1.15 v-for与key的原理"></a>1.15 v-for与key的原理</h2><h3 id="1-15-1-一个案例"><a href="#1-15-1-一个案例" class="headerlink" title="1.15.1 一个案例"></a>1.15.1 一个案例</h3><div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click.once</span>=<span class="hljs-string">&#x27;add&#x27;</span>&gt;</span>点击添加<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(item,index) in items&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&#x27;item.id&#x27;</span>&gt;</span>
        &#123;&#123;item.name&#125;&#125;-&#123;&#123;item.age&#125;&#125;
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;txet&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(item,index) in items&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&#x27;index&#x27;</span>&gt;</span>
        &#123;&#123;item.name&#125;&#125;-&#123;&#123;item.age&#125;&#125;
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;txet&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs js"><span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;
    <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,
    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;
        <span class="hljs-keyword">return</span> &#123;
            <span class="hljs-attr">items</span>: [
                &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;p1&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">18</span> &#125;,
                &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;p2&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">19</span> &#125;,
                &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;p3&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">20</span> &#125;,
            ],
        &#125;;
    &#125;,
    <span class="hljs-attr">methods</span>: &#123;
        <span class="hljs-title function_">add</span>(<span class="hljs-params"></span>)&#123;
            <span class="hljs-keyword">const</span> temp = &#123;<span class="hljs-attr">id</span>:<span class="hljs-number">4</span>,<span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;p4&#x27;</span>,<span class="hljs-attr">age</span>:<span class="hljs-number">21</span>&#125;
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-title function_">unshift</span>(temp)
        &#125;
    &#125;,
&#125;);</code></pre></div>

<p>在输入框中输入一些信息，当点击按钮后，以<code>item.id</code>作为key的DOM不会发生错乱，但是以<code>index</code>作为key的DOM发生了错乱</p>
<h3 id="1-15-2-遍历链表时key的作用"><a href="#1-15-2-遍历链表时key的作用" class="headerlink" title="1.15.2 遍历链表时key的作用"></a>1.15.2 遍历链表时key的作用</h3><p><img src="/../images/Vue%E7%AC%94%E8%AE%B0/uTools_1640181813084.png" srcset="/img/loading.gif" lazyload alt="uTools_1640181813084"></p>
<p><img src="/../images/Vue%E7%AC%94%E8%AE%B0/uTools_1640181987262.png" srcset="/img/loading.gif" lazyload alt="uTools_1640181987262"></p>
<ol>
<li><p>key是虚拟DOM对象的标识，当状态中的数据发生变时，Vue会根据<strong>新数据</strong>生成<strong>新的虚拟DOM</strong>。随后vue进行<strong>新虚拟DOM</strong>与<strong>旧虚拟DOM</strong>的差异比较,比较规则如下:</p>
<ul>
<li><p>旧虚拟DOM中找到了与新虚拟DOM相同的key：<br>①若虚拟DOM中内容没变，直接使用之前的真实DOM<br>②若虚拟DOM中内容变了，则生成新的真实DOM,随后替换掉页面中之前的真实DOM</p>
</li>
<li><p>旧虚拟DOM中未找到与新虚拟DOM相同的key：<br>创建新的真实DOM，随后渲染到到页面</p>
</li>
</ul>
</li>
<li><p>用 index作为key可能会引发的问题:</p>
<ul>
<li>若对数据进行：逆序添加、逆序删除等破坏顺序操作会产生没有必要的真实DOM更新&#x3D;&#x3D;&gt;界面效果没问题,但效率低。</li>
<li>如果结构中还包含输入类的DOM：会产生错误DOM更新&#x3D;&#x3D;&gt;界面有问题</li>
</ul>
</li>
<li><p>开发中如何选择key?</p>
<ul>
<li><p>最好使用每条数据的<strong>唯一标识</strong>作为key，比如id、手机号、身份证号、学号等唯一值。</p>
</li>
<li><p>如果不存在对数据的逆序添加、逆序删除等破坏顺序操作，仅用于渲染列表用于展示使用index作为key是没有问题的。</p>
</li>
</ul>
</li>
<li><p>如果遍历时不写key，vue会自动把index作为key</p>
</li>
</ol>
<h2 id="1-16-Vue数据监测原理"><a href="#1-16-Vue数据监测原理" class="headerlink" title="1.16 Vue数据监测原理"></a>1.16 Vue数据监测原理</h2><p>Vue会监视data中所有层次的数据</p>
<h3 id="1-16-1-Vue监测对象数据"><a href="#1-16-1-Vue监测对象数据" class="headerlink" title="1.16.1 Vue监测对象数据"></a>1.16.1 Vue监测对象数据</h3><ol>
<li>通过setter实现监视，且套在new Vue时就传入要监视的数据</li>
<li>对象中后添加的属性，Vue默认不做响应式处理；如需给后添加的属性做响应式处理，需要用<code>Vue.set()</code>或<code>vm.$set()</code></li>
</ol>
<h3 id="1-16-2-Vue监测数组数据"><a href="#1-16-2-Vue监测数组数据" class="headerlink" title="1.16.2 Vue监测数组数据"></a>1.16.2 Vue监测数组数据</h3><div class="code-wrapper"><pre><code class="hljs html">//点击按钮后，页面上的数据没有发生变化，说明vue没有监测到

<span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&#x27;click&#x27;</span>&gt;</span>点击修改数据第一项<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(item,index) in items&quot;</span>&gt;</span>&#123;&#123;index&#125;&#125; - &#123;&#123;item&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs js"><span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;
    <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,
    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;
        <span class="hljs-keyword">return</span> &#123;
            <span class="hljs-attr">items</span>: [<span class="hljs-string">&quot;q&quot;</span>, <span class="hljs-string">&quot;w&quot;</span>, <span class="hljs-string">&quot;e&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>],
        &#125;;
    &#125;,
    <span class="hljs-attr">methods</span>: &#123;
        <span class="hljs-title function_">click</span>(<span class="hljs-params"></span>)&#123;
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>[<span class="hljs-number">0</span>] = <span class="hljs-string">&#x27;p&#x27;</span>
        &#125;
    &#125;,
&#125;);</code></pre></div>

<ul>
<li>直接通过索引值修改数组，Vue无法监测到这种变化。因为Vue不是靠setter监视数组数据变化的。</li>
<li>调用可以修改数组的7个方法，Vue会监测到变化。也可以用Vue.set()或者vm.$set()修改数组<ul>
<li><code>push()</code></li>
<li><code>pop()</code></li>
<li><code>shift()</code></li>
<li><code>unshift()</code></li>
<li><code>splice()</code></li>
<li><code>sort()</code></li>
<li><code>reverse()</code></li>
</ul>
</li>
<li>Vue包裹了修改数组的7个方法，先调用原方法，再重新解析模板更新DOM。</li>
</ul>
<h2 id="1-17-Vue-set-与vm-set"><a href="#1-17-Vue-set-与vm-set" class="headerlink" title="1.17 Vue.set()与vm.$set()"></a>1.17 Vue.set()与vm.$set()</h2><h3 id="1-17-1-API"><a href="#1-17-1-API" class="headerlink" title="1.17.1 API"></a>1.17.1 API</h3><blockquote>
<h3 id="Vue-set-target-propertyName-x2F-index-value"><a href="#Vue-set-target-propertyName-x2F-index-value" class="headerlink" title="Vue.set( target, propertyName&#x2F;index, value )"></a><a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/api/#Vue-set">Vue.set( target, propertyName&#x2F;index, value )</a></h3><ul>
<li><p><strong>参数</strong>：</p>
</li>
<li><p><code>&#123;Object | Array&#125; target</code></p>
</li>
<li><p><code>&#123;string | number&#125; propertyName/index</code></p>
</li>
<li><p><code>&#123;any&#125; value</code></p>
</li>
<li><p><strong>返回值</strong>：设置的值。</p>
</li>
<li><p><strong>用法</strong>：</p>
</li>
</ul>
<p> 向响应式对象中添加一个 property，并确保这个新 property 同样是响应式的，且触发视图更新。它必须用于向响应式对象上添加新 property，因为 Vue 无法探测普通的新增 property (比如 <code>this.myObject.newProperty = &#39;hi&#39;</code>)</p>
<ul>
<li><strong>注意</strong>：对象不能是 Vue 实例，或者 Vue 实例的根数据对象。</li>
</ul>
</blockquote>
<blockquote>
<h3 id="vm-set-target-propertyName-x2F-index-value"><a href="#vm-set-target-propertyName-x2F-index-value" class="headerlink" title="vm.$set( target, propertyName&#x2F;index, value )"></a><a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/api/#vm-set">vm.$set( target, propertyName&#x2F;index, value )</a></h3><ul>
<li><p><strong>参数</strong>：</p>
</li>
<li><p><code>&#123;Object | Array&#125; target</code></p>
</li>
<li><p><code>&#123;string | number&#125; propertyName/index</code></p>
</li>
<li><p><code>&#123;any&#125; value</code></p>
</li>
<li><p><strong>返回值</strong>：设置的值。</p>
</li>
<li><p><strong>用法</strong>：</p>
</li>
</ul>
<p> 这是全局 <code>Vue.set</code> 的<strong>别名</strong>。</p>
</blockquote>
<h3 id="1-17-2-例子"><a href="#1-17-2-例子" class="headerlink" title="1.17.2 例子"></a>1.17.2 例子</h3><ul>
<li>案例：点击按钮，向obj上增加一个响应式的属性</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&#x27;handleClick&#x27;</span>&gt;</span>添加属性<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(value,key) in obj&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;key&quot;</span>&gt;</span>
        &#123;&#123;key&#125;&#125; -- &#123;&#123;value&#125;&#125;
    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs js"><span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;
    <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,
    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;
        <span class="hljs-keyword">return</span> &#123;
            <span class="hljs-attr">obj</span>: &#123;
                <span class="hljs-attr">a</span>: <span class="hljs-number">100</span>,
                <span class="hljs-attr">b</span>: <span class="hljs-number">200</span>,
                <span class="hljs-attr">c</span>: <span class="hljs-number">300</span>,
            &#125;,
        &#125;;
    &#125;,
    <span class="hljs-attr">methods</span>: &#123;
        <span class="hljs-title function_">handleClick</span>(<span class="hljs-params"></span>)&#123;
            <span class="hljs-comment">// this.obj.d = 400 			//不是响应式的</span>
            <span class="hljs-comment">// Vue.set(this.obj,&#x27;d&#x27;,400)	//使用Vue.set()</span>
            <span class="hljs-variable language_">this</span>.$set(<span class="hljs-variable language_">this</span>.<span class="hljs-property">obj</span>,<span class="hljs-string">&#x27;d&#x27;</span>,<span class="hljs-number">400</span>)		<span class="hljs-comment">//使用vm.$set()</span>
        &#125;
    &#125;,
&#125;);</code></pre></div>

<h3 id="1-17-3-注意"><a href="#1-17-3-注意" class="headerlink" title="1.17.3 注意"></a>1.17.3 注意</h3><ul>
<li><p>对象不能是 Vue 实例，或者 Vue 实例的根数据对象。</p>
<div class="code-wrapper"><pre><code class="hljs js"><span class="hljs-variable language_">this</span>.$set(<span class="hljs-variable language_">this</span>,<span class="hljs-string">&#x27;d&#x27;</span>,<span class="hljs-number">400</span>) <span class="hljs-comment">//错误</span>
<span class="hljs-variable language_">this</span>.$set(<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>,<span class="hljs-string">&#x27;d&#x27;</span>,<span class="hljs-number">400</span>) <span class="hljs-comment">//错误</span></code></pre></div></li>
</ul>
<h2 id="1-18-数据劫持"><a href="#1-18-数据劫持" class="headerlink" title="1.18 数据劫持"></a>1.18 数据劫持</h2><ul>
<li><code>vm._data</code> 不等于传入的data，而是经过了处理，这种处理叫做数据劫持</li>
</ul>
<h2 id="1-19-过滤器"><a href="#1-19-过滤器" class="headerlink" title="1.19 过滤器"></a>1.19 过滤器</h2><ol>
<li>定义：自定义过滤器，用于常见的文本格式化。</li>
<li>语法：<ul>
<li>注册全局过滤器：<code>Vue.filter(name,callback)</code></li>
<li>注册局部过滤器：<code>new Vue(filters:&#123; &#125;)</code></li>
<li>插值中使用过滤器：<code>&#123;&#123; message | capitalize &#125;&#125;</code></li>
<li>v-bind中使用过滤器：<code>&lt;div v-bind:id=&quot;rawId | formatId&quot;&gt;&lt;/div&gt;</code></li>
</ul>
</li>
<li>注意：<ul>
<li>过滤器本质上是js函数，可以接受额外参数（默认第一个参数是原本的数据），多个过滤器可以串联</li>
<li>不会改变原来的数据，产生的是新数据</li>
</ul>
</li>
</ol>
<div class="code-wrapper"><pre><code class="hljs html">//用计算属性和过滤器实现日期的格式化

<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span>
    &#123;&#123;timestamp&#125;&#125;
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>
    &#123;&#123;fmt&#125;&#125;
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
    &#123;&#123;timestamp | timeFormater&#125;&#125;
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs js"><span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;
    <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,
    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;
        <span class="hljs-keyword">return</span> &#123;
            <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(),
        &#125;;
    &#125;,
    <span class="hljs-attr">filters</span>:&#123;
        <span class="hljs-title function_">timeFormater</span>(<span class="hljs-params">timestamp</span>)&#123;
            <span class="hljs-keyword">return</span> <span class="hljs-title function_">dayjs</span>(timestamp).<span class="hljs-title function_">format</span>(
                <span class="hljs-string">&quot;YYYY-MM-DD HH:mm:ss&quot;</span>
            );
        &#125;
    &#125;,
    <span class="hljs-attr">computed</span>: &#123;
        <span class="hljs-title function_">fmt</span>(<span class="hljs-params"></span>) &#123;
            <span class="hljs-keyword">return</span> <span class="hljs-title function_">dayjs</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">timestamp</span>).<span class="hljs-title function_">format</span>(
                <span class="hljs-string">&quot;YYYY-MM-DD HH:mm:ss&quot;</span>
            );
        &#125;,
    &#125;,
&#125;);</code></pre></div>

<h2 id="1-20-其他内置指令"><a href="#1-20-其他内置指令" class="headerlink" title="1.20 其他内置指令"></a>1.20 其他内置指令</h2><p>之前提到的指令：</p>
<ul>
<li><code>v-bind</code>：单向数据绑定，简写：<code>:</code></li>
<li><code>v-model</code>：双向数据绑定</li>
<li><code>v-for</code>：遍历数组、对象、字符串</li>
<li><code>v-on</code>：绑定监听事件，简写：<code>@</code></li>
<li><code>v-if</code> <code>v-else-if</code> <code>v-else</code>：条件渲染</li>
<li><code>v-show</code>：条件渲染</li>
</ul>
<h3 id="1-20-1-v-text"><a href="#1-20-1-v-text" class="headerlink" title="1.20.1 v-text"></a>1.20.1 v-text</h3><blockquote>
<ul>
<li><strong>预期</strong>：<code>string</code></li>
</ul>
<ul>
<li><strong>详细</strong>：</li>
</ul>
<p> 更新元素的 <code>textContent</code>。如果要更新部分的 <code>textContent</code>，需要使用 <code>&#123;&#123; Mustache &#125;&#125;</code> 插值。</p>
<ul>
<li><strong>示例</strong>：</li>
</ul>
 <div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">v-text</span>=<span class="hljs-string">&quot;msg&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
<span class="hljs-comment">&lt;!-- 和下面的一样 --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></code></pre></div>
</blockquote>
<ul>
<li>注意：v-text会替换掉节点中的内容</li>
</ul>
<h3 id="1-20-2-v-html"><a href="#1-20-2-v-html" class="headerlink" title="1.20.2 v-html"></a>1.20.2 v-html</h3><blockquote>
<ul>
<li><p><strong>预期</strong>：<code>string</code></p>
</li>
<li><p><strong>详细</strong>：</p>
</li>
</ul>
<p> 更新元素的 <code>innerHTML</code>。<strong>注意：内容按普通 HTML 插入 - 不会作为 Vue 模板进行编译</strong>。如果试图使用 <code>v-html</code> 组合模板，可以重新考虑是否通过使用组件来替代。</p>
<ul>
<li><strong>示例</strong>：</li>
</ul>
 <div class="code-wrapper"><pre><code class="hljs applescript">&lt;<span class="hljs-keyword">div</span> v-html=<span class="hljs-string">&quot;html&quot;</span>&gt;&lt;/<span class="hljs-keyword">div</span>&gt;</code></pre></div>
</blockquote>
<blockquote>
<ul>
<li><p>在网站上动态渲染任意 HTML 是非常危险的，因为容易导致 <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Cross-site_scripting">XSS 攻击</a>。只在可信内容上使用 <code>v-html</code>，<strong>永不</strong>用在用户提交的内容上。</p>
</li>
<li><p>在<a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/single-file-components.html">单文件组件</a>里，<code>scoped</code> 的样式不会应用在 <code>v-html</code> 内部，因为那部分 HTML 没有被 Vue 的模板编译器处理。如果你希望针对 <code>v-html</code> 的内容设置带作用域的 CSS，你可以替换为 <a target="_blank" rel="noopener" href="https://vue-loader.vuejs.org/en/features/css-modules.html">CSS Modules</a> 或用一个额外的全局 <code>&lt;style&gt;</code> 元素手动设置类似 BEM 的作用域策略。</p>
</li>
</ul>
</blockquote>
<h3 id="1-20-3-v-cloak"><a href="#1-20-3-v-cloak" class="headerlink" title="1.20.3 v-cloak"></a>1.20.3 v-cloak</h3><blockquote>
<ul>
<li><p><strong>不需要表达式</strong></p>
</li>
<li><p><strong>用法</strong>：</p>
</li>
</ul>
<p> 这个指令保持在元素上直到关联实例结束编译。和 CSS 规则如 <code>[v-cloak] &#123; display: none &#125;</code> 一起用时，这个指令可以隐藏未编译的 Mustache 标签直到实例准备完毕。</p>
<ul>
<li><strong>示例</strong>：</li>
</ul>
 <div class="code-wrapper"><pre><code class="hljs css"><span class="hljs-selector-attr">[v-cloak]</span> &#123;
  <span class="hljs-attribute">display</span>: none;
&#125;</code></pre></div>

 <div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-cloak</span>&gt;</span>
  &#123;&#123; message &#125;&#125;
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>

<p> 不会显示，直到编译结束。</p>
</blockquote>
<h3 id="1-20-4-v-once"><a href="#1-20-4-v-once" class="headerlink" title="1.20.4 v-once"></a>1.20.4 v-once</h3><blockquote>
<ul>
<li><p><strong>不需要表达式</strong></p>
</li>
<li><p><strong>详细</strong>：</p>
</li>
</ul>
<p> 只渲染元素和组件<strong>一次</strong>。随后的重新渲染，元素&#x2F;组件及其所有的子节点将被视为静态内容并跳过。这可以用于优化更新性能。</p>
 <div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- 单个元素 --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">v-once</span>&gt;</span>This will never change: &#123;&#123;msg&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
<span class="hljs-comment">&lt;!-- 有子元素 --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-once</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>comment<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-comment">&lt;!-- 组件 --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">my-component</span> <span class="hljs-attr">v-once</span> <span class="hljs-attr">:comment</span>=<span class="hljs-string">&quot;msg&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">my-component</span>&gt;</span>
<span class="hljs-comment">&lt;!-- `v-for` 指令--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;i in list&quot;</span> <span class="hljs-attr">v-once</span>&gt;</span>&#123;&#123;i&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></code></pre></div>

<ul>
<li><p><strong>参考</strong>：</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/syntax.html#%E6%8F%92%E5%80%BC">数据绑定语法- 插值</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/components-edge-cases.html#%E9%80%9A%E8%BF%87-v-once-%E5%88%9B%E5%BB%BA%E4%BD%8E%E5%BC%80%E9%94%80%E7%9A%84%E9%9D%99%E6%80%81%E7%BB%84%E4%BB%B6">组件 - 对低开销的静态组件使用 <code>v-once</code></a></p>
</li>
</ul>
</blockquote>
<h3 id="1-20-5-v-pre"><a href="#1-20-5-v-pre" class="headerlink" title="1.20.5 v-pre"></a>1.20.5 v-pre</h3><blockquote>
<ul>
<li><p><strong>不需要表达式</strong></p>
</li>
<li><p><strong>用法</strong>：</p>
</li>
</ul>
<p> 跳过这个元素和它的子元素的编译过程。可以用来显示原始 Mustache 标签。跳过大量没有指令的节点会加快编译。</p>
<ul>
<li><strong>示例</strong>：</li>
</ul>
 <div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">v-pre</span>&gt;</span>&#123;&#123; this will not be compiled &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></code></pre></div>
</blockquote>
<h2 id="1-21-自定义指令"><a href="#1-21-自定义指令" class="headerlink" title="1.21 自定义指令"></a>1.21 自定义指令</h2><p>注册局部自定义指令：</p>
<div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>需求1<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>当前的n值是: <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">v-text</span>=<span class="hljs-string">&quot;n&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>放大10倍后的n值是: <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">v-big</span>=<span class="hljs-string">&quot;n&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;n++&quot;</span>&gt;</span>点击n+1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>需求2<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-fbind:value</span>=<span class="hljs-string">&quot;n&quot;</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs js"><span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;
    <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,
    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;
        <span class="hljs-keyword">return</span> &#123;
            <span class="hljs-attr">n</span>: <span class="hljs-number">1</span>,
            <span class="hljs-attr">input</span>: <span class="hljs-string">&quot;&quot;</span>,
        &#125;;
    &#125;,
    <span class="hljs-attr">directives</span>: &#123;
        <span class="hljs-comment">//什么时候调用？</span>
        <span class="hljs-comment">//1. 指令和元素成功绑定时</span>
        <span class="hljs-comment">//2. 指令所在的模板被重新解析时调用</span>
        <span class="hljs-title function_">big</span>(<span class="hljs-params">element, binding</span>) &#123;
            element.<span class="hljs-property">innerText</span> = binding.<span class="hljs-property">value</span> * <span class="hljs-number">10</span>;
        &#125;,
        
        <span class="hljs-attr">fbind</span>:&#123;
            <span class="hljs-comment">//指令和元素成功绑定时</span>
            <span class="hljs-comment">//注意：此处的this是window</span>
            <span class="hljs-title function_">bind</span>(<span class="hljs-params">el,binding</span>)&#123;
                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>)
                el.<span class="hljs-property">value</span> = binding.<span class="hljs-property">value</span>
            &#125;,
            <span class="hljs-comment">//指令所在的元素被插入页面时</span>
            <span class="hljs-title function_">inserted</span>(<span class="hljs-params">el,binding</span>)&#123;
                el.<span class="hljs-title function_">focus</span>()
            &#125;,
            <span class="hljs-comment">//指令所在得到模板被重新解析时</span>
            <span class="hljs-title function_">update</span>(<span class="hljs-params">el,binding</span>)&#123;
                <span class="hljs-comment">// console.log(&#x27;update&#x27;)</span>
                <span class="hljs-comment">// console.log(&#x27;&#x27;)</span>
                el.<span class="hljs-property">value</span> = binding.<span class="hljs-property">value</span>
            &#125;
        &#125;
    &#125;,
&#125;);</code></pre></div>

<p>注册全局自定义指令：</p>
<div class="code-wrapper"><pre><code class="hljs js"><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">directive</span>(<span class="hljs-string">&#x27;focus&#x27;</span>, &#123;
  <span class="hljs-comment">// 当被绑定的元素插入到 DOM 中时……</span>
  <span class="hljs-attr">inserted</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">el</span>) &#123;
    <span class="hljs-comment">// 聚焦元素</span>
    el.<span class="hljs-title function_">focus</span>()
  &#125;
&#125;)</code></pre></div>

<h2 id="1-22-生命周期"><a href="#1-22-生命周期" class="headerlink" title="1.22 生命周期"></a>1.22 生命周期</h2><p><img src="https://cn.vuejs.org/images/lifecycle.png" srcset="/img/loading.gif" lazyload></p>
<p>挂载流程：</p>
<ul>
<li><p><code>init events &amp; lifecycle</code>。初始化：生命周期、时间，但是数据代理还未开始。</p>
</li>
<li><p><code>beforeCreate</code>。此时：无法通过vm访问到data中的数据和methods中的方法。</p>
</li>
<li><p><code>init injections &amp; reactivity</code>。初始化：数据监测、数据代理。</p>
</li>
<li><p><code>created</code>。此时：可以通过vm访问到data中的数据和methods中的方法。</p>
</li>
<li><p>Vue开始解析模板，生成虚拟DOM，页面还不能显示解析好的内容。</p>
</li>
<li><p><code>beforeMount</code>。此时：页面呈现的是未经Vue编译的DOM。此时对DOM的操作最终都不奏效。</p>
</li>
<li><p>将内存中的虚拟DOM转为真实DOM插入页面中。</p>
</li>
<li><p><code>mounted</code>。此时：页面中呈现的是经过Vue编译的DOM。此时对DOM的操作均有效但应该尽可避免。至此，初始化过程结束。一般在此时进行：开启定时器，发送网络请求，订阅消息，绑定自定义事件等初始化操作。</p>
</li>
</ul>
<p>更新流程：</p>
<ul>
<li><p><code>beforeUpdate</code>。此时：数据是新的，但是页面还是旧的。即：页面尚未和数据保持同步。</p>
</li>
<li><p>根据新数据形成新的虚拟DOM，随后和旧的虚拟DOM进行比较，最终完成页面的更新，即完成了Model-&gt;View的更新。</p>
</li>
<li><p><code>updated</code>。此时：数据是最新的，页面也是新的，即：页面和数据保持同步。</p>
</li>
</ul>
<p>销毁流程：</p>
<ul>
<li><code>beforeDestroy</code>。此时：vm中data、method等都处于可用状态，马上执行销毁流程。一般在此关闭定时器、取消订阅消息、解绑自定义事件等等收尾操作。此时对数据进行操作不会触发更新DOM</li>
<li><code>destroyed</code>。</li>
</ul>
<h1 id="第二章-Vue组件化编程"><a href="#第二章-Vue组件化编程" class="headerlink" title="第二章 Vue组件化编程"></a>第二章 Vue组件化编程</h1><h2 id="2-1-非单文件组件"><a href="#2-1-非单文件组件" class="headerlink" title="2.1 非单文件组件"></a>2.1 非单文件组件</h2><h3 id="2-1-1-案例"><a href="#2-1-1-案例" class="headerlink" title="2.1.1 案例"></a>2.1.1 案例</h3><ol>
<li>局部注册：</li>
</ol>
<div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">school</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">school</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">student</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">student</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs js"><span class="hljs-keyword">const</span> school =  <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">extend</span>(&#123;
    <span class="hljs-attr">template</span>:<span class="hljs-string">`</span>
<span class="hljs-string">                &lt;div&gt;</span>
<span class="hljs-string">                    &lt;h1&gt;学校名称：&#123;&#123;schoolName&#125;&#125;&lt;/h1&gt;</span>
<span class="hljs-string">                    &lt;h1&gt;学校地址：&#123;&#123;schoolAddr&#125;&#125;&lt;/h1&gt;</span>
<span class="hljs-string">                &lt;/div&gt;</span>
<span class="hljs-string">                `</span>,
    <span class="hljs-comment">//不用写el配置项，因为最终所有的组件都会被一个vm管理，由vm决定服务于哪个容器</span>
    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;
        <span class="hljs-keyword">return</span> &#123;
            <span class="hljs-attr">schoolName</span>: <span class="hljs-string">&quot;buct&quot;</span>,
            <span class="hljs-attr">schoolAddr</span>: <span class="hljs-string">&quot;北三环&quot;</span>,
        &#125;;
    &#125;,
&#125;);
<span class="hljs-keyword">const</span> student =  <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">extend</span>(&#123;
    <span class="hljs-attr">template</span>:<span class="hljs-string">`</span>
<span class="hljs-string">                &lt;div&gt;</span>
<span class="hljs-string">                    &lt;h1&gt;学生姓名：&#123;&#123;studentName&#125;&#125;&lt;/h1&gt;</span>
<span class="hljs-string">                    &lt;h1&gt;学生年龄：&#123;&#123;studentAge&#125;&#125;&lt;/h1&gt;</span>
<span class="hljs-string">                &lt;/div&gt;</span>
<span class="hljs-string">                `</span>,
    <span class="hljs-comment">//不用写el配置项，因为最终所有的组件都会被一个vm管理，由vm决定服务于哪个容器</span>
    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;
        <span class="hljs-keyword">return</span> &#123;
            <span class="hljs-attr">studentName</span>: <span class="hljs-string">&quot;tourry&quot;</span>,
            <span class="hljs-attr">studentAge</span>: <span class="hljs-string">&quot;18&quot;</span>,
        &#125;;
    &#125;,
&#125;);

<span class="hljs-keyword">const</span> vm  = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;
    <span class="hljs-attr">el</span>:<span class="hljs-string">&#x27;#app&#x27;</span>,
    <span class="hljs-attr">components</span>:&#123;
        <span class="hljs-comment">//注册组件 局部注册</span>
        school,
        student
    &#125;
&#125;)</code></pre></div>

<ol start="2">
<li>全局注册：</li>
</ol>
<div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app1&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">hello</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">hello</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app2&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">hello</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">hello</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs js"><span class="hljs-keyword">const</span> hello = <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">extend</span>(&#123;
    <span class="hljs-attr">template</span>:<span class="hljs-string">`&lt;div&gt;&#123;&#123;msg&#125;&#125;&lt;/div&gt;`</span>,
    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;
        <span class="hljs-keyword">return</span> &#123;
            <span class="hljs-attr">msg</span>:<span class="hljs-string">&#x27;hello vue&#x27;</span>
        &#125;
    &#125;
&#125;)
<span class="hljs-comment">//全局注册组件，两个vm中都带有hello组件</span>
<span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">component</span>(<span class="hljs-string">&#x27;hello&#x27;</span>,hello)
<span class="hljs-keyword">const</span> vm1  = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;
    <span class="hljs-attr">el</span>:<span class="hljs-string">&#x27;#app1&#x27;</span>,
&#125;)
<span class="hljs-keyword">const</span> vm2  = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;
    <span class="hljs-attr">el</span>:<span class="hljs-string">&#x27;#app2&#x27;</span>,
&#125;)</code></pre></div>

<h3 id="2-1-2-几个注意点"><a href="#2-1-2-几个注意点" class="headerlink" title="2.1.2 几个注意点"></a>2.1.2 几个注意点</h3><ul>
<li><p>关于组件的名字：</p>
<ol>
<li>一个单词组成：（在开发者工具中组件名都是首字母大写，可以在开发者工具种修改模式）<ul>
<li>第一种写法：（首字母小写）school</li>
<li>第二种写法：（首字母大写）School</li>
</ul>
</li>
<li>多个单词组成：<ul>
<li>第一种写法：（Kebab-case）my-school</li>
<li>第二种写法：（CamelCase）MySchool（需要脚手架，不然报错）</li>
</ul>
</li>
<li>备注<ul>
<li>组件名应该尽可能回避HTML中已有元素的名称，比如h2、H2</li>
<li>可以使用name配置项指定组件在<strong>开发者工具</strong>中呈现的名字</li>
</ul>
</li>
</ol>
</li>
<li><p>关于组件标签：</p>
<ol>
<li>第一种写法：<code>&lt;school&gt;&lt;/school&gt;</code></li>
<li>第二种写法：<code>&lt;school/&gt;</code></li>
<li>注意：不使用脚手架时，第二种写法会导致后续的组件无法渲染</li>
</ol>
</li>
<li><p>定义组件的简写形式：</p>
<div class="code-wrapper"><pre><code class="hljs js"><span class="hljs-comment">//不使用简写:</span>
<span class="hljs-keyword">const</span> school = <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">extend</span>(options)

<span class="hljs-comment">//使用简写:</span>
<span class="hljs-keyword">const</span> school = options</code></pre></div></li>
</ul>
<h3 id="2-1-3-组件的嵌套"><a href="#2-1-3-组件的嵌套" class="headerlink" title="2.1.3 组件的嵌套"></a>2.1.3 组件的嵌套</h3><div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">school</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">school</span>&gt;</span>  
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs js"><span class="hljs-comment">//定义子组件</span>
<span class="hljs-keyword">const</span> student = &#123;
    <span class="hljs-attr">template</span>: <span class="hljs-string">`</span>
<span class="hljs-string">                &lt;div&gt;</span>
<span class="hljs-string">                    &lt;h1&gt;学生名字：&#123;&#123;studentName&#125;&#125;&lt;/h1&gt;</span>
<span class="hljs-string">                    &lt;h1&gt;学生年龄：&#123;&#123;studentAge&#125;&#125;&lt;/h1&gt;</span>
<span class="hljs-string">                &lt;/div&gt;</span>
<span class="hljs-string">                `</span>,
    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;
        <span class="hljs-keyword">return</span> &#123;
            <span class="hljs-attr">studentName</span>: <span class="hljs-string">&quot;tourry&quot;</span>,
            <span class="hljs-attr">studentAge</span>: <span class="hljs-number">18</span>,
        &#125;;
    &#125;,
&#125;;

<span class="hljs-comment">//定义父组件</span>
<span class="hljs-keyword">const</span> school = &#123;
    <span class="hljs-attr">template</span>: <span class="hljs-string">`</span>
<span class="hljs-string">                &lt;div&gt;</span>
<span class="hljs-string">                    &lt;h1&gt;学校名称：&#123;&#123;schoolName&#125;&#125;&lt;/h1&gt;</span>
<span class="hljs-string">                    &lt;h1&gt;学校地址：&#123;&#123;schoolAddr&#125;&#125;&lt;/h1&gt;</span>
<span class="hljs-string">                    &lt;student&gt;&lt;/student&gt;</span>
<span class="hljs-string">                &lt;/div&gt;</span>
<span class="hljs-string">                `</span>,
    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;
        <span class="hljs-keyword">return</span> &#123;
            <span class="hljs-attr">schoolName</span>: <span class="hljs-string">&quot;buct&quot;</span>,
            <span class="hljs-attr">schoolAddr</span>: <span class="hljs-string">&quot;北三环&quot;</span>,
        &#125;;
    &#125;,
    <span class="hljs-attr">components</span>:&#123;
        student
    &#125;
&#125;;


<span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;
    <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,
    <span class="hljs-attr">components</span>: &#123;
        school
    &#125;,
&#125;);</code></pre></div>

<h2 id="2-2-VueComponent"><a href="#2-2-VueComponent" class="headerlink" title="2.2 VueComponent"></a>2.2 VueComponent</h2><ol>
<li><p>组件的本质是一个名为VueComponent()的构造函数，是Vue.extend</p>
<p>生成的。</p>
</li>
<li><p>Vue会帮助我们执行 new VueComponent(options)</p>
</li>
<li><p>每次调用Vue.extend()，得到的都是一个全新的VueComponent()</p>
</li>
<li><p>this指向：</p>
<ul>
<li>组件配置中，data()、methods中的函数、watch中的函数、computed中的函数，它们的this均是VueComponent实例对象</li>
<li>new Vue(options)配置中，data()、methods中的函数、watch中的函数、computed中的函数，它们的this均是Vue实例对象</li>
</ul>
</li>
<li><p>&#96;&#96;&#96;js<br>VueComponent.prototype.<strong>proto</strong> &#x3D;&#x3D;&#x3D; Vue.prototype</p>
<div class="code-wrapper"><pre><code class="hljs handlebars"><span class="language-xml"></span>
<span class="language-xml">## 2.3 单文件组件</span>
<span class="language-xml"></span>
<span class="language-xml">```vue</span>
<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span></span>
<span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span>
<span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;name&quot;</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">name</span> &#125;&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
<span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
<span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span>
<span class="language-xml"></span>
<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span>
<span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span>
<span class="language-javascript"><span class="language-xml">    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Student&quot;</span>,</span></span>
<span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span></span>
<span class="language-javascript"><span class="language-xml">        <span class="hljs-keyword">return</span> &#123;</span></span>
<span class="language-javascript"><span class="language-xml">            <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;tourry&quot;</span>,</span></span>
<span class="language-javascript"><span class="language-xml">        &#125;;</span></span>
<span class="language-javascript"><span class="language-xml">    &#125;,</span></span>
<span class="language-javascript"><span class="language-xml">&#125;;</span></span>
<span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
<span class="language-xml"></span>
<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="language-css"></span></span>
<span class="language-css"><span class="language-xml"><span class="hljs-selector-class">.name</span> &#123;</span></span>
<span class="language-css"><span class="language-xml">    <span class="hljs-attribute">background</span>: rebeccapurple;</span></span>
<span class="language-css"><span class="language-xml">&#125;</span></span>
<span class="language-css"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span></code></pre></div></li>
</ol>
<h1 id="第三章-Vue-高级"><a href="#第三章-Vue-高级" class="headerlink" title="第三章 Vue 高级"></a>第三章 Vue 高级</h1><h2 id="3-1-脚手架创建Vue项目"><a href="#3-1-脚手架创建Vue项目" class="headerlink" title="3.1 脚手架创建Vue项目"></a>3.1 脚手架创建Vue项目</h2><div class="code-wrapper"><pre><code class="hljs markdown"><span class="hljs-bullet">1.</span> 全局安装Vue-cli
npm install -g @vue/cli-service-global

<span class="hljs-bullet">2.</span> 创建Vue项目
vue create vue-project

<span class="hljs-bullet">3.</span> 根据提示定制即可</code></pre></div>

<h2 id="3-2-特殊标签：ref"><a href="#3-2-特殊标签：ref" class="headerlink" title="3.2 特殊标签：ref"></a>3.2 特殊标签：ref</h2><blockquote>
<ul>
<li><strong>预期</strong>：<code>string</code></li>
</ul>
<p> <code>ref</code> 被用来给元素或子组件注册引用信息。引用信息将会注册在父组件的 <code>$refs</code> 对象上。如果在普通的 DOM 元素上使用，引用指向的就是 DOM 元素；如果用在子组件上，引用就指向组件实例：</p>
 <div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- `vm.$refs.p` will be the DOM node --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;p&quot;</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>

<span class="hljs-comment">&lt;!-- `vm.$refs.child` will be the child component instance --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">child-component</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;child&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">child-component</span>&gt;</span></code></pre></div>

<p> 当 <code>v-for</code> 用于元素或组件的时候，引用信息将是包含 DOM 节点或组件实例的数组。</p>
<p> 关于 ref 注册时间的重要说明：因为 ref 本身是作为渲染结果被创建的，在初始渲染的时候你不能访问它们 - 它们还不存在！<code>$refs</code> 也不是响应式的，因此你不应该试图用它在模板中做数据绑定。</p>
</blockquote>
<h2 id="3-3-Prop"><a href="#3-3-Prop" class="headerlink" title="3.3 Prop"></a>3.3 Prop</h2><blockquote>
<ul>
<li><p><strong>类型</strong>：<code>Array&lt;string&gt; | Object</code></p>
</li>
<li><p><strong>详细</strong>：</p>
</li>
</ul>
<p> props 可以是数组或对象，用于接收来自父组件的数据。props 可以是简单的数组，或者使用对象作为替代，对象允许配置高级选项，如类型检测、自定义验证和设置默认值。</p>
<p> 你可以基于对象的语法使用以下选项：</p>
<ul>
<li><code>type</code>：可以是下列原生构造函数中的一种：<code>String</code>、<code>Number</code>、<code>Boolean</code>、<code>Array</code>、<code>Object</code>、<code>Date</code>、<code>Function</code>、<code>Symbol</code>、任何自定义构造函数、或上述内容组成的数组。会检查一个 prop 是否是给定的类型，否则抛出警告。Prop 类型的<a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/components-props.html#Prop-%E7%B1%BB%E5%9E%8B">更多信息在此</a>。</li>
<li><code>default</code>：<code>any</code><br>为该 prop 指定一个默认值。如果该 prop 没有被传入，则换做用这个值。对象或数组的默认值必须从一个工厂函数返回。</li>
<li><code>required</code>：<code>Boolean</code><br>定义该 prop 是否是必填项。在非生产环境中，如果这个值为 truthy 且该 prop 没有被传入的，则一个控制台警告将会被抛出。</li>
<li><code>validator</code>：<code>Function</code><br>自定义验证函数会将该 prop 的值作为唯一的参数代入。在非生产环境下，如果该函数返回一个 falsy 的值 (也就是验证失败)，一个控制台警告将会被抛出。你可以在<a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/components-props.html#Prop-%E9%AA%8C%E8%AF%81">这里</a>查阅更多 prop 验证的相关信息。</li>
</ul>
</blockquote>
<h3 id="3-3-1-利用prop传递函数实现子组件给父组件传递消息"><a href="#3-3-1-利用prop传递函数实现子组件给父组件传递消息" class="headerlink" title="3.3.1 利用prop传递函数实现子组件给父组件传递消息"></a>3.3.1 利用prop传递函数实现子组件给父组件传递消息</h3><p>步骤：</p>
<ol>
<li>在父组件中定义函数</li>
<li>在子组件中使用props接收父组件定义的函数</li>
</ol>
<p>举例：</p>
<p>父组件：App.vue </p>
<div class="code-wrapper"><pre><code class="hljs vue">&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;name:&#123;&#123; name &#125;&#125;&lt;/h1&gt;
    &lt;School :getName=&quot;getName&quot;&gt;&lt;/School&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
import School from &quot;./components/School&quot;;
export default &#123;
  name: &quot;App&quot;,
  components: &#123;School&#125;,
  data() &#123;
    return &#123;
      name: &#x27;&#x27;
    &#125;
  &#125;,
  methods: &#123;
    getName(name) &#123;
      console.log(&#x27;父组件接受子组件传递的数据&#x27;, name)
      this.name = name
    &#125;
  &#125;
&#125;
&lt;/script&gt;</code></pre></div>

<p>子组件：School.vue</p>
<div class="code-wrapper"><pre><code class="hljs vue">&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;hello,&#123;&#123; school.name &#125;&#125;&lt;/h1&gt;
    &lt;h1&gt;hello,&#123;&#123; school.addr &#125;&#125;&lt;/h1&gt;
    &lt;button @click=&quot;handleClick&quot;&gt;点击给父组件传递name&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
export default &#123;
  name: &quot;School&quot;,
  props: [&#x27;getName&#x27;],
  data() &#123;
    return &#123;
      school: &#123;
        name: &#x27;BUCT&#x27;,
        addr: &#x27;Beijing&#x27;
      &#125;
    &#125;
  &#125;,
  methods: &#123;
    handleClick() &#123;
      this.getName(this.school.name)
    &#125;
  &#125;
&#125;
&lt;/script&gt;</code></pre></div>

<h2 id="3-4-混入：mixin"><a href="#3-4-混入：mixin" class="headerlink" title="3.4 混入：mixin"></a>3.4 混入：mixin</h2><blockquote>
<h2 id="基础"><a href="#基础" class="headerlink" title="基础"></a><a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/mixins.html#%E5%9F%BA%E7%A1%80">基础</a></h2><p>混入 (mixin) 提供了一种非常灵活的方式，来分发 Vue 组件中的<strong>可复用功能</strong>。一个混入对象可以包含任意组件选项。当组件使用混入对象时，所有混入对象的选项将被 “混合” 进入该组件本身的选项。</p>
<p>例子：</p>
<div class="code-wrapper"><pre><code class="hljs js">&gt;<span class="hljs-comment">// 定义一个混入对象</span>
&gt;<span class="hljs-keyword">var</span> myMixin = &#123;
 <span class="hljs-attr">created</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;
   <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">hello</span>()
 &#125;,
 <span class="hljs-attr">methods</span>: &#123;
   <span class="hljs-attr">hello</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;
     <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;hello from mixin!&#x27;</span>)
   &#125;
 &#125;
&gt;&#125;

&gt;<span class="hljs-comment">// 定义一个使用混入对象的组件</span>
&gt;<span class="hljs-keyword">var</span> <span class="hljs-title class_">Component</span> = <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">extend</span>(&#123;
 <span class="hljs-attr">mixins</span>: [myMixin]
&gt;&#125;)

&gt;<span class="hljs-keyword">var</span> component = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Component</span>() <span class="hljs-comment">// =&gt; &quot;hello from mixin!&quot;</span></code></pre></div>

<h2 id="选项合并"><a href="#选项合并" class="headerlink" title="选项合并"></a><a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/mixins.html#%E9%80%89%E9%A1%B9%E5%90%88%E5%B9%B6">选项合并</a></h2><p>当组件和混入对象含有同名选项时，这些选项将以恰当的方式进行 “合并”。</p>
<p>比如，数据对象在内部会进行递归合并，并在发生冲突时以<strong>组件数据优先</strong>。</p>
<div class="code-wrapper"><pre><code class="hljs js">&gt;<span class="hljs-keyword">var</span> mixin = &#123;
 <span class="hljs-attr">data</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;
   <span class="hljs-keyword">return</span> &#123;
     <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;hello&#x27;</span>,
     <span class="hljs-attr">foo</span>: <span class="hljs-string">&#x27;abc&#x27;</span>
   &#125;
 &#125;
&gt;&#125;

&gt;<span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;
 <span class="hljs-attr">mixins</span>: [mixin],
 <span class="hljs-attr">data</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;
   <span class="hljs-keyword">return</span> &#123;
     <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;goodbye&#x27;</span>,
     <span class="hljs-attr">bar</span>: <span class="hljs-string">&#x27;def&#x27;</span>
   &#125;
 &#125;,
 <span class="hljs-attr">created</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;
   <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">$data</span>)
   <span class="hljs-comment">// =&gt; &#123; message: &quot;goodbye&quot;, foo: &quot;abc&quot;, bar: &quot;def&quot; &#125;</span>
 &#125;
&gt;&#125;)</code></pre></div>

<p>同名钩子函数将合并为一个数组，因此都将被调用。另外，混入对象的钩子将在组件自身钩子<strong>之前</strong>调用。</p>
<div class="code-wrapper"><pre><code class="hljs js">&gt;<span class="hljs-keyword">var</span> mixin = &#123;
 <span class="hljs-attr">created</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;
   <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;混入对象的钩子被调用&#x27;</span>)
 &#125;
&gt;&#125;

&gt;<span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;
 <span class="hljs-attr">mixins</span>: [mixin],
 <span class="hljs-attr">created</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;
   <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;组件钩子被调用&#x27;</span>)
 &#125;
&gt;&#125;)

&gt;<span class="hljs-comment">// =&gt; &quot;混入对象的钩子被调用&quot;</span>
&gt;<span class="hljs-comment">// =&gt; &quot;组件钩子被调用&quot;</span></code></pre></div>

<p>值为对象的选项，例如 <code>methods</code>、<code>components</code> 和 <code>directives</code>，将被合并为同一个对象。两个对象键名冲突时，<strong>取组件对象的键值对</strong>。</p>
<div class="code-wrapper"><pre><code class="hljs js">&gt;<span class="hljs-keyword">var</span> mixin = &#123;
 <span class="hljs-attr">methods</span>: &#123;
   <span class="hljs-attr">foo</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;
     <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;foo&#x27;</span>)
   &#125;,
   <span class="hljs-attr">conflicting</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;
     <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;from mixin&#x27;</span>)
   &#125;
 &#125;
&gt;&#125;

&gt;<span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;
 <span class="hljs-attr">mixins</span>: [mixin],
 <span class="hljs-attr">methods</span>: &#123;
   <span class="hljs-attr">bar</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;
     <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;bar&#x27;</span>)
   &#125;,
   <span class="hljs-attr">conflicting</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;
     <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;from self&#x27;</span>)
   &#125;
 &#125;
&gt;&#125;)

&gt;vm.<span class="hljs-title function_">foo</span>() <span class="hljs-comment">// =&gt; &quot;foo&quot;</span>
&gt;vm.<span class="hljs-title function_">bar</span>() <span class="hljs-comment">// =&gt; &quot;bar&quot;</span>
&gt;vm.<span class="hljs-title function_">conflicting</span>() <span class="hljs-comment">// =&gt; &quot;from self&quot;</span></code></pre></div>

<p>注意：<code>Vue.extend()</code> 也使用同样的策略进行合并。</p>
<h2 id="全局混入"><a href="#全局混入" class="headerlink" title="全局混入"></a><a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/mixins.html#%E5%85%A8%E5%B1%80%E6%B7%B7%E5%85%A5">全局混入</a></h2><p>混入也可以进行全局注册。使用时格外小心！一旦使用全局混入，它将影响<strong>每一个</strong>之后创建的 Vue 实例。使用恰当时，这可以用来为自定义选项注入处理逻辑。</p>
<div class="code-wrapper"><pre><code class="hljs js">&gt;<span class="hljs-comment">// 为自定义的选项 &#x27;myOption&#x27; 注入一个处理器。</span>
&gt;<span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">mixin</span>(&#123;
 <span class="hljs-attr">created</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;
   <span class="hljs-keyword">var</span> myOption = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$options</span>.<span class="hljs-property">myOption</span>
   <span class="hljs-keyword">if</span> (myOption) &#123;
     <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(myOption)
   &#125;
 &#125;
&gt;&#125;)

&gt;<span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;
 <span class="hljs-attr">myOption</span>: <span class="hljs-string">&#x27;hello!&#x27;</span>
&gt;&#125;)
&gt;<span class="hljs-comment">// =&gt; &quot;hello!&quot;</span></code></pre></div>

<p>请谨慎使用全局混入，因为它会影响每个单独创建的 Vue 实例 (包括第三方组件)。大多数情况下，只应当应用于自定义选项，就像上面示例一样。推荐将其作为<a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/plugins.html">插件</a>发布，以避免重复应用混入。</p>
</blockquote>
<h2 id="3-5-插件"><a href="#3-5-插件" class="headerlink" title="3.5 插件"></a>3.5 插件</h2><blockquote>
<p>插件通常用来为 Vue 添加全局功能。插件的功能范围没有严格的限制 —— 一般有下面几种：</p>
<ol>
<li>添加全局方法或者 property。如：<a target="_blank" rel="noopener" href="https://github.com/karol-f/vue-custom-element">vue-custom-element</a></li>
<li>添加全局资源：指令 &#x2F; 过滤器 &#x2F; 过渡等。如 <a target="_blank" rel="noopener" href="https://github.com/vuejs/vue-touch">vue-touch</a></li>
<li>通过全局混入来添加一些组件选项。如 <a target="_blank" rel="noopener" href="https://github.com/vuejs/vue-router">vue-router</a></li>
<li>添加 Vue 实例方法，通过把它们添加到 <code>Vue.prototype</code> 上实现。</li>
<li>一个库，提供自己的 API，同时提供上面提到的一个或多个功能。如 <a target="_blank" rel="noopener" href="https://github.com/vuejs/vue-router">vue-router</a></li>
</ol>
<h2 id="使用插件"><a href="#使用插件" class="headerlink" title="使用插件"></a><a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/plugins.html#%E4%BD%BF%E7%94%A8%E6%8F%92%E4%BB%B6">使用插件</a></h2><p>通过全局方法 <code>Vue.use()</code> 使用插件。它需要在你调用 <code>new Vue()</code> 启动应用之前完成：</p>
<div class="code-wrapper"><pre><code class="hljs js">&gt;<span class="hljs-comment">// 调用 `MyPlugin.install(Vue)`</span>
&gt;<span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">MyPlugin</span>)

&gt;<span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;
 <span class="hljs-comment">// ...组件选项</span>
&gt;&#125;)</code></pre></div>

<p>也可以传入一个可选的选项对象：</p>
<div class="code-wrapper"><pre><code class="hljs js">&gt;<span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">MyPlugin</span>, &#123; <span class="hljs-attr">someOption</span>: <span class="hljs-literal">true</span> &#125;)</code></pre></div>

<p><code>Vue.use</code> 会自动阻止多次注册相同插件，届时即使多次调用也只会注册一次该插件。</p>
<p>Vue.js 官方提供的一些插件 (例如 <code>vue-router</code>) 在检测到 <code>Vue</code> 是可访问的全局变量时会自动调用 <code>Vue.use()</code>。然而在像 CommonJS 这样的模块环境中，你应该始终显式地调用 <code>Vue.use()</code>：</p>
<div class="code-wrapper"><pre><code class="hljs js">&gt;<span class="hljs-comment">// 用 Browserify 或 webpack 提供的 CommonJS 模块环境时</span>
&gt;<span class="hljs-keyword">var</span> <span class="hljs-title class_">Vue</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;vue&#x27;</span>)
&gt;<span class="hljs-keyword">var</span> <span class="hljs-title class_">VueRouter</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;vue-router&#x27;</span>)

&gt;<span class="hljs-comment">// 不要忘了调用此方法</span>
&gt;<span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">VueRouter</span>)</code></pre></div>

<p><a target="_blank" rel="noopener" href="https://github.com/vuejs/awesome-vue#components--libraries">awesome-vue</a> 集合了大量由社区贡献的插件和库。</p>
<h2 id="开发插件"><a href="#开发插件" class="headerlink" title="开发插件"></a><a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/plugins.html#%E5%BC%80%E5%8F%91%E6%8F%92%E4%BB%B6">开发插件</a></h2><p>Vue.js 的插件应该暴露一个 <code>install</code> 方法。这个方法的第一个参数是 <code>Vue</code> 构造器，第二个参数是一个可选的选项对象：</p>
<div class="code-wrapper"><pre><code class="hljs js">&gt;<span class="hljs-title class_">MyPlugin</span>.<span class="hljs-property">install</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">Vue, options</span>) &#123;
 <span class="hljs-comment">// 1. 添加全局方法或 property</span>
 <span class="hljs-title class_">Vue</span>.<span class="hljs-property">myGlobalMethod</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;
   <span class="hljs-comment">// 逻辑...</span>
 &#125;

 <span class="hljs-comment">// 2. 添加全局资源</span>
 <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">directive</span>(<span class="hljs-string">&#x27;my-directive&#x27;</span>, &#123;
   bind (el, binding, vnode, oldVnode) &#123;
     <span class="hljs-comment">// 逻辑...</span>
   &#125;
   ...
 &#125;)

 <span class="hljs-comment">// 3. 注入组件选项</span>
 <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">mixin</span>(&#123;
   <span class="hljs-attr">created</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;
     <span class="hljs-comment">// 逻辑...</span>
   &#125;
   ...
 &#125;)

 <span class="hljs-comment">// 4. 添加实例方法</span>
 <span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$myMethod</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">methodOptions</span>) &#123;
   <span class="hljs-comment">// 逻辑...</span>
 &#125;
&gt;&#125;</code></pre></div>
</blockquote>
<h2 id="3-6-局部样式：scoped"><a href="#3-6-局部样式：scoped" class="headerlink" title="3.6 局部样式：scoped"></a>3.6 局部样式：scoped</h2><div class="code-wrapper"><pre><code class="hljs vue">&lt;style scoped&gt;
h1 &#123;
  color: red;
&#125;
&lt;/style&gt;</code></pre></div>

<h2 id="3-7-浏览器本地存储WebStorage"><a href="#3-7-浏览器本地存储WebStorage" class="headerlink" title="3.7 浏览器本地存储WebStorage"></a>3.7 浏览器本地存储WebStorage</h2><ol>
<li>存储大小一般在5M左右。</li>
<li>通过 <code>windows.localStorage</code> 和 <code>windows.sessionStorage</code> 实现本地存储。浏览器窗口关闭后 localStorage 内容不会消失，sessionStorage 内容会消失。</li>
<li>API<ol>
<li><code>xxxStorage.setItem(&#39;key&#39;,&#39;value&#39;)</code>添加 kv</li>
<li><code>xxxStorage.getItem(&#39;key&#39;)</code>根据 k 获取 v</li>
<li><code>xxxStorage.removeItem(&#39;key&#39;)</code>删除 kv</li>
<li><code>xxxStorage.clear</code>清空所有 kv</li>
</ol>
</li>
<li>注意：如果<code>xxxStorage.getItem(&#39;key&#39;)</code>获取不到对应的 value ，会返回 null</li>
</ol>
<h2 id="3-8-组件自定义事件"><a href="#3-8-组件自定义事件" class="headerlink" title="3.8 组件自定义事件"></a>3.8 组件自定义事件</h2><p>这是一种组件间通信的方式，适用于子组件给父组件传递消息。在父组件中给子组件绑定自定义事件，并且在子组件中触发该自定义事件。</p>
<h3 id="3-8-1-使用-或-v-on-绑定事件"><a href="#3-8-1-使用-或-v-on-绑定事件" class="headerlink" title="3.8.1 使用 @ 或 v-on 绑定事件"></a>3.8.1 使用 <code>@</code> 或 <code>v-on</code> 绑定事件</h3><p>举例：</p>
<p>在父组件 App 中：使用<code>@</code>绑定自定义事件</p>
<div class="code-wrapper"><pre><code class="hljs vue">&lt;template&gt;
  &lt;div class=&quot;app&quot;&gt;
    &lt;h1&gt;name:&#123;&#123; name &#125;&#125;&lt;/h1&gt;
    &lt;Student @get-student-name=&quot;getStudentName&quot;&gt;&lt;/Student&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import Student from &quot;./components/Student&quot;;

export default &#123;
  name: &quot;App&quot;,
  components: &#123;Student&#125;,
  data() &#123;
    return &#123;
      name: &#x27;&#x27;
    &#125;
  &#125;,
  methods: &#123;
    getStudentName(name) &#123;
      console.log(&#x27;app收到了学生名&#x27;, name)
      this.name = name
    &#125;
  &#125;
&#125;
&lt;/script&gt;</code></pre></div>

<p>在子组件 Student 中：使用 <code>$emit</code> 触发自定义事件</p>
<div class="code-wrapper"><pre><code class="hljs vue">&lt;template&gt;
  &lt;div class=&quot;demo&quot;&gt;
    &lt;h1&gt;hello,&#123;&#123; name &#125;&#125;&lt;/h1&gt;
    &lt;button @click=&quot;sendStudentName&quot;&gt;button&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default &#123;
  name: &quot;Student&quot;,
  data() &#123;
    return &#123;
      name: &#x27;Tourry&#x27;
    &#125;
  &#125;,
  methods: &#123;
    sendStudentName()&#123;
      // 触发Student实例身上的get-student-name事件
      this.$emit(&#x27;get-student-name&#x27;,this.name)
    &#125;
  &#125;
&#125;
&lt;/script&gt;</code></pre></div>

<h3 id="3-8-2-使用-ref-绑定事件"><a href="#3-8-2-使用-ref-绑定事件" class="headerlink" title="3.8.2 使用 ref 绑定事件"></a>3.8.2 使用 <code>ref</code> 绑定事件</h3><p>在组件加载完毕时绑定自定义事件，灵活性更强 。举例：</p>
<p>在父组件 App 中：</p>
<div class="code-wrapper"><pre><code class="hljs vue">&lt;template&gt;
  &lt;div class=&quot;app&quot;&gt;
    &lt;h1&gt;name:&#123;&#123; name &#125;&#125;&lt;/h1&gt;
    &lt;Student ref=&quot;student&quot;&gt;&lt;/Student&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import Student from &quot;./components/Student&quot;;

export default &#123;
  name: &quot;App&quot;,
  components: &#123;Student&#125;,
  data() &#123;
    return &#123;
      name: &#x27;&#x27;
    &#125;
  &#125;,
  mounted() &#123;
    this.$refs.student.$on(&#x27;get-student-name&#x27;, this.getStudentName)
  &#125;
&#125;
&lt;/script&gt;</code></pre></div>

<p><strong>注意</strong>：通过 <code>this.$refs.student.$on(&#39;get-student-name&#39;, 回调)</code> 这种方式绑定自定义事件时，回调函数要么配置在 methods 中，要么使用箭头函数。因为 this 指向被绑定自定义事件的组件实例对象。</p>
<p>子组件 Student 同 3.8.1 节</p>
<h3 id="3-8-3-解绑事件"><a href="#3-8-3-解绑事件" class="headerlink" title="3.8.3 解绑事件"></a>3.8.3 解绑事件</h3><p>使用 <code>$off</code> 解绑事件。例，在子组件 Student 实例对象上中：</p>
<div class="code-wrapper"><pre><code class="hljs js"><span class="hljs-variable language_">this</span>.$off(<span class="hljs-string">&#x27;get-student-name&#x27;</span>) 			<span class="hljs-comment">//解绑单自定义事件</span>
<span class="hljs-variable language_">this</span>.$off([<span class="hljs-string">&#x27;get-student-name&#x27;</span>,<span class="hljs-string">&#x27;demo2&#x27;</span>]) <span class="hljs-comment">//解绑多个自定义事件</span>
<span class="hljs-variable language_">this</span>.$off()								<span class="hljs-comment">//解绑所有自定义事件</span></code></pre></div>

<h3 id="3-8-4-使用原生事件"><a href="#3-8-4-使用原生事件" class="headerlink" title="3.8.4 使用原生事件"></a>3.8.4 使用原生事件</h3><p>组件上绑定的事件默认都是自定义事件，即使该事件的名称与原生事件名称相同，例如：</p>
<div class="code-wrapper"><pre><code class="hljs vue">&lt;Student ref=&quot;student&quot; @click=&quot;test&quot;&gt;&lt;/Student&gt;</code></pre></div>

<p>在 Student 的DOM元素上点击不会触发 ckick 事件。如果想用原生的 click 事件，需要在click 后加上修饰符 native。例如：</p>
<div class="code-wrapper"><pre><code class="hljs vue">&lt;Student ref=&quot;student&quot; @click.native=&quot;test&quot;&gt;&lt;/Student&gt;</code></pre></div>

<h2 id="3-9-全局事件总线"><a href="#3-9-全局事件总线" class="headerlink" title="3.9 全局事件总线"></a>3.9 全局事件总线</h2><p>思路：在 vm 上绑定一个 对象，所有的 vc 实例对象都能看得见这个对象并且可以调用<code>$on()</code>、 <code>$off()</code> 、<code>$emit()</code> 方法。</p>
<p>例子：Student 将数据 name 传递给兄弟组件 School</p>
<p>main.js 中：绑定 <code>$bus</code></p>
<div class="code-wrapper"><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./App.vue&#x27;</span>

<span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>

<span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;
    <span class="hljs-attr">render</span>: <span class="hljs-function"><span class="hljs-params">h</span> =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),
    <span class="hljs-title function_">beforeCreate</span>(<span class="hljs-params"></span>) &#123;
        <span class="hljs-comment">// 安装全局事件总线</span>
        <span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$bus</span> = <span class="hljs-variable language_">this</span>
    &#125;
&#125;).$mount(<span class="hljs-string">&#x27;#app&#x27;</span>)
</code></pre></div>

<p>School 组件中：在 <code>$bus</code> 上定义自定义事件</p>
<div class="code-wrapper"><pre><code class="hljs vue">&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;School:&#123;&#123; name &#125;&#125;&lt;/h1&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default &#123;
  name: &quot;School&quot;,
  mounted() &#123;
    this.$bus.$on(&#x27;demo&#x27;, (data) =&gt; &#123;
      console.log(&#x27;收到数据&#x27;, data)
      this.name = data
    &#125;)
  &#125;,
  data() &#123;
    return &#123;
      name: &#x27;&#x27;,
    &#125;
  &#125;
&#125;
&lt;/script&gt;</code></pre></div>

<p>Student 组件中：触发 <code>$bus</code> 上的自定义事件，数据以参数的形式传递给了 School 组件</p>
<div class="code-wrapper"><pre><code class="hljs vue">&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;Student:&#123;&#123; name &#125;&#125;&lt;/h1&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default &#123;
  name: &quot;Student&quot;,
  mounted() &#123;
    this.$bus.$emit(&#x27;demo&#x27;, this.name)
  &#125;,
  data() &#123;
    return &#123;
      name: &#x27;Tourry&#x27;
    &#125;
  &#125;
&#125;
&lt;/script&gt;</code></pre></div>

<h2 id="3-10-消息订阅与发布"><a href="#3-10-消息订阅与发布" class="headerlink" title="3.10 消息订阅与发布"></a>3.10 消息订阅与发布</h2><p>思路：需要数据的组件进行消息订阅，传递数据的组件进行消息发布。</p>
<p>js库<a target="_blank" rel="noopener" href="https://github.com/mroderick/PubSubJS">https://github.com/mroderick/PubSubJS</a></p>
<h2 id="3-11-nextTick"><a href="#3-11-nextTick" class="headerlink" title="3.11 nextTick()"></a>3.11 nextTick()</h2><blockquote>
<h3 id="Vue-nextTick-callback-context"><a href="#Vue-nextTick-callback-context" class="headerlink" title="[Vue.nextTick( callback, context] )"></a>[Vue.nextTick( <a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/api/#Vue-nextTick">callback, context] )</a></h3><ul>
<li><p><strong>参数</strong>：</p>
</li>
<li><p><code>&#123;Function&#125; [callback]</code></p>
</li>
<li><p><code>&#123;Object&#125; [context]</code></p>
</li>
<li><p><strong>用法</strong>：</p>
</li>
</ul>
<p> 在下次 DOM 更新循环结束之后执行延迟回调。在修改数据之后立即使用这个方法，获取更新后的 DOM。</p>
 <div class="code-wrapper"><pre><code class="hljs vue">// 修改数据
vm.msg = &#x27;Hello&#x27;
// DOM 还没有更新
Vue.nextTick(function () &#123;
  // DOM 更新了
&#125;)

// 作为一个 Promise 使用 (2.1.0 起新增，详见接下来的提示)
Vue.nextTick()
  .then(function () &#123;
    // DOM 更新了
  &#125;)</code></pre></div>

<blockquote>
<p>2.1.0 起新增：如果没有提供回调且在支持 Promise 的环境中，则返回一个 Promise。请注意 Vue 不自带 Promise 的 polyfill，所以如果你的目标浏览器不原生支持 Promise (IE：你们都看我干嘛)，你得自己提供 polyfill。</p>
</blockquote>
</blockquote>
<h2 id="3-12-过度与动画"><a href="#3-12-过度与动画" class="headerlink" title="3.12 过度与动画"></a>3.12 过度与动画</h2><p>js库<a target="_blank" rel="noopener" href="https://github.com/animate-css/animate.css">https://github.com/animate-css/animate.css</a></p>
<p>例子：</p>
<div class="code-wrapper"><pre><code class="hljs vue">&lt;template&gt;
  &lt;div&gt;
    &lt;button @click=&quot;isShow = !isShow&quot;&gt;显示与隐藏&lt;/button&gt;
    &lt;transition
        name=&quot;animate__animated animate__bounce&quot;
        appear
        enter-active-class=&quot;animate__swing&quot;
        leave-active-class=&quot;animate__backOutDown&quot;
    &gt;
      &lt;h1 v-show=&quot;isShow&quot;&gt;hello&lt;/h1&gt;
    &lt;/transition&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import &#x27;animate.css&#x27;

export default &#123;
  name: &quot;School&quot;,
  data() &#123;
    return &#123;
      isShow: false
    &#125;
  &#125;
&#125;
&lt;/script&gt;

&lt;style scoped&gt;
h1 &#123;
  background-color: #42b983;
&#125;
&lt;/style&gt;</code></pre></div>

<h2 id="3-12-配置代理"><a href="#3-12-配置代理" class="headerlink" title="3.12 配置代理"></a>3.12 配置代理</h2><h3 id="3-12-1-跨域"><a href="#3-12-1-跨域" class="headerlink" title="3.12.1 跨域"></a>3.12.1 跨域</h3><ol>
<li>浏览器同源策略：浏览器只能请求相同协议、主机名、端口号的地址。不满足这三个条件即跨域。</li>
<li>解决方案：<ul>
<li>cors：后端加特殊的请求头</li>
<li>jsonp</li>
<li>proxy</li>
</ul>
</li>
</ol>
<h3 id="3-12-2-配置代理"><a href="#3-12-2-配置代理" class="headerlink" title="3.12.2 配置代理"></a>3.12.2 配置代理</h3><p>在vue.config.js中配置devServer.proxy。</p>
<ol>
<li><p>第一种配置方式</p>
<div class="code-wrapper"><pre><code class="hljs js"><span class="hljs-attr">devServer</span>: &#123;
	<span class="hljs-attr">proxy</span>: <span class="hljs-string">&#x27;http://localhost:5000&#x27;</span>
&#125;</code></pre></div>

<p>两个缺点：1. 只能配置一台代理服务器 2. 不能控制哪些接口转发</p>
</li>
<li><p>第二种配置方式（推荐）</p>
<div class="code-wrapper"><pre><code class="hljs js"><span class="hljs-attr">proxy</span>: &#123;
    <span class="hljs-string">&#x27;/api&#x27;</span>: &#123;
        <span class="hljs-attr">target</span>: <span class="hljs-string">&#x27;http://localhost:5000&#x27;</span>,
        <span class="hljs-attr">pathRewrite</span>: &#123;
            <span class="hljs-string">&#x27;^/api&#x27;</span>: <span class="hljs-string">&#x27;&#x27;</span>
        &#125;,
        <span class="hljs-attr">ws</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">changeOrigin</span>: <span class="hljs-literal">true</span>
    &#125;,
    <span class="hljs-string">&#x27;/foo&#x27;</span>: &#123;
        <span class="hljs-attr">target</span>: <span class="hljs-string">&#x27;http://localhost:5001&#x27;</span>
    &#125;
&#125;</code></pre></div>

<p><code>/api</code>是请求的前缀，配置<code>pathRewrite</code>，使得发送到后端的请求中不再有<code>/api</code></p>
</li>
</ol>
<h2 id="3-12-插槽"><a href="#3-12-插槽" class="headerlink" title="3.12 插槽"></a>3.12 插槽</h2><p>作用：让父组件可以向子组件指定的位置插入 html 结构，也是一种组件间通信的方法，适用于父组件向子组件传递消息。</p>
<h3 id="3-12-1-默认插槽"><a href="#3-12-1-默认插槽" class="headerlink" title="3.12.1 默认插槽"></a>3.12.1 默认插槽</h3><ol>
<li><p>子组件 Child 中定义一个插槽，插槽在定义时可以放入默认内容，如果插槽没有被使用，则显示默认内容。</p>
<div class="code-wrapper"><pre><code class="hljs vue">&lt;template&gt;
  &lt;div&gt;
    &lt;slot&gt;这是默认插槽内容&lt;/slot&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre></div>
</li>
<li><p>父组件 App 中使用子组件的插槽，向子组件的插槽中放入内容</p>
<div class="code-wrapper"><pre><code class="hljs vue">&lt;template&gt;
  &lt;div&gt;
    &lt;Child&gt;
      &lt;h1&gt;向子组件的插槽中放入这段文字&lt;/h1&gt;
    &lt;/Child&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre></div></li>
</ol>
<h3 id="3-12-2-具名插槽"><a href="#3-12-2-具名插槽" class="headerlink" title="3.12.2 具名插槽"></a>3.12.2 具名插槽</h3><ol>
<li><p>子组件 Child 在定义多个插槽时可以为插槽起名。</p>
<div class="code-wrapper"><pre><code class="hljs vue">&lt;template&gt;
  &lt;div&gt;
    &lt;slot name=&quot;first&quot;&gt;first插槽的默认内容&lt;/slot&gt;
    &lt;slot name=&quot;last&quot;&gt;last插槽的默认内容&lt;/slot&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre></div>
</li>
<li><p>父组件 App 将指定的内容放入指定的具名插槽</p>
<div class="code-wrapper"><pre><code class="hljs vue">&lt;template&gt;
  &lt;div&gt;
    &lt;Child&gt;
        
      &lt;template v-slot:first&gt;
          向子组件的first插槽中放入这段文字
	  &lt;/template&gt;

      &lt;template #last&gt;
			向子组件的last插槽中放入这段文字
	  &lt;/template&gt;
    &lt;/Child&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre></div>
</li>
<li><p>注意：</p>
<ul>
<li><p>只有<code>&lt;template&gt;</code>标签才可以使用具名插槽</p>
</li>
<li><p><code>v-slot:first</code>可以简写成<code>#first</code></p>
</li>
<li><p>不带<code>name</code>属性的插槽会带有隐含的名字<code>default</code></p>
</li>
</ul>
</li>
</ol>
<h3 id="3-12-3-作用域插槽"><a href="#3-12-3-作用域插槽" class="headerlink" title="3.12.3 作用域插槽"></a>3.12.3 作用域插槽</h3><p>数据放在子组件中，把数据传递给父组件。</p>
<ol>
<li><p>在子组件 Child 中，存有数据 msg，并想把这个数据交给父组件使用</p>
<div class="code-wrapper"><pre><code class="hljs vue">&lt;template&gt;
  &lt;div&gt;
    &lt;slot :msg=&quot;msg&quot;&gt;first插槽的默认内容&lt;/slot&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default &#123;
  name: &quot;Child&quot;,
  data() &#123;
    return &#123;
      msg: &#x27;hello vue&#x27;
    &#125;
  &#125;
&#125;
&lt;/script&gt;</code></pre></div>
</li>
<li><p>在父组件 App 中：</p>
<div class="code-wrapper"><pre><code class="hljs vue">&lt;template&gt;
  &lt;div&gt;
    &lt;Child&gt;
       // hello vue
      &lt;template v-slot:default=&quot;&#123;msg&#125;&quot;&gt;
        通过插槽收到子组件传递过来的数据：&#123;&#123;msg&#125;&#125;
      &lt;/template&gt;
    &lt;/Child&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre></div></li>
</ol>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E5%89%8D%E7%AB%AF/">#前端</a>
      
        <a href="/tags/Vue/">#Vue</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>【Vue2】Vue笔记</div>
      <div>https://zhangtuo.online/archives/adf5c49.html</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>ZhangTuo</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2021年12月7日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/archives/7a98a4dd.html" title="【Vue2】Vuex笔记">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">【Vue2】Vuex笔记</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/archives/c2a65dc0.html" title="【JavaScript】JavaScript高级笔记">
                        <span class="hidden-mobile">【JavaScript】JavaScript高级笔记</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  


  
  









    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        总访问量 
        <span id="busuanzi_value_site_pv"></span>
         次
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        总访客数 
        <span id="busuanzi_value_site_uv"></span>
         人
      </span>
    
    
  
</div>

  
  
    <!-- 备案信息 ICP for China -->
    <div class="beian">
  <span>
    <a href="http://beian.miit.gov.cn/" target="_blank" rel="nofollow noopener">
      吉ICP备20001736号
    </a>
  </span>
  
</div>

  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  
      <script>
        if (!window.MathJax) {
          window.MathJax = {
            tex    : {
              inlineMath: { '[+]': [['$', '$']] }
            },
            loader : {
              load: ['ui/lazy']
            },
            options: {
              renderActions: {
                insertedScript: [200, () => {
                  document.querySelectorAll('mjx-container').forEach(node => {
                    let target = node.parentNode;
                    if (target.nodeName.toLowerCase() === 'li') {
                      target.parentNode.classList.add('has-jax');
                    }
                  });
                }, '', false]
              }
            }
          };
        } else {
          MathJax.startup.document.state(0);
          MathJax.texReset();
          MathJax.typeset();
          MathJax.typesetPromise();
        }

        Fluid.events.registerRefreshCallback(function() {
          if ('MathJax' in window && MathJax.startup.document && typeof MathJax.startup.document.state === 'function') {
            MathJax.startup.document.state(0);
            MathJax.texReset();
            MathJax.typeset();
            MathJax.typesetPromise();
          }
        });
      </script>
    

  <script  src="https://lib.baomitu.com/mathjax/3.2.2/es5/tex-mml-chtml.js" ></script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
